<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nipa - Your Girly Lifestyle Hub üíñ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;600;700&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        .dancing-script { font-family: 'Dancing Script', cursive; }
        .poppins { font-family: 'Poppins', sans-serif; }
        
        .gradient-bg {
            background: linear-gradient(135deg, #fce7f3 0%, #f3e8ff 25%, #fdf2f8 50%, #ecfdf5 75%, #fce7f3 100%);
        }
        
        .floating {
            animation: floating 3s ease-in-out infinite;
        }
        
        .floating-delayed {
            animation: floating 3s ease-in-out infinite;
            animation-delay: 1.5s;
        }
        
        @keyframes floating {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        
        .sparkle {
            animation: sparkle 2s ease-in-out infinite;
        }
        
        @keyframes sparkle {
            0%, 100% { opacity: 0.3; transform: scale(0.8); }
            50% { opacity: 1; transform: scale(1.2); }
        }
        
        .heart-beat {
            animation: heartbeat 1.5s ease-in-out infinite;
        }
        
        @keyframes heartbeat {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        
        .card-hover {
            transition: all 0.3s ease;
        }
        
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(236, 72, 153, 0.2);
        }
        
        .btn-gradient {
            background: linear-gradient(45deg, #ec4899, #a855f7);
        }
        
        .btn-gradient:hover {
            background: linear-gradient(45deg, #db2777, #9333ea);
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
        }

        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .chat-message {
            margin: 10px 0;
            padding: 10px 15px;
            border-radius: 20px;
            max-width: 80%;
        }

        .user-message {
            background: linear-gradient(45deg, #ec4899, #a855f7);
            color: white;
            margin-left: auto;
        }

        .ai-message {
            background: #f3e8ff;
            color: #7c3aed;
            margin-right: auto;
        }

        .loading {
            display: none;
        }

        .loading.active {
            display: block;
        }

        .typing-indicator {
            display: none;
            padding: 10px 15px;
            background: #f3e8ff;
            border-radius: 20px;
            margin: 10px 0;
            max-width: 80%;
        }

        .typing-indicator.active {
            display: block;
        }

        .typing-dots {
            display: inline-block;
            animation: typing 1.4s infinite;
        }

        @keyframes typing {
            0%, 60%, 100% { opacity: 0.3; }
            30% { opacity: 1; }
        }

        .loading-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255, 255, 255, 0.9);
            display: none;
            align-items: center;
            justify-content: center;
            border-radius: 1.5rem;
            z-index: 10;
        }

        .loading-overlay.active {
            display: flex;
        }
    </style>
</head>
<body class="gradient-bg min-h-screen poppins">
    <!-- Header -->
    <header class="bg-white/80 backdrop-blur-md shadow-lg sticky top-0 z-50">
        <div class="container mx-auto px-4 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-2">
                    <span class="text-4xl">üå∫</span>
                    <h1 class="text-3xl font-bold dancing-script text-pink-600">Nipa</h1>
                </div>
                <nav class="hidden md:flex space-x-6">
                    <a href="#fashion" class="text-purple-600 hover:text-pink-500 transition-colors">Fashion</a>
                    <a href="#beauty" class="text-purple-600 hover:text-pink-500 transition-colors">Beauty</a>
                    <a href="#wellness" class="text-purple-600 hover:text-pink-500 transition-colors">Wellness</a>
                    <a href="#lifestyle" class="text-purple-600 hover:text-pink-500 transition-colors">Lifestyle</a>
                    <a href="#community" class="text-purple-600 hover:text-pink-500 transition-colors">Community</a>
                </nav>
                <button class="md:hidden text-pink-600" onclick="toggleMobileMenu()">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Mobile Menu -->
            <div id="mobileMenu" class="hidden md:hidden bg-white/95 backdrop-blur-md border-t border-pink-200">
                <div class="px-4 py-4 space-y-3">
                    <a href="#fashion" onclick="toggleMobileMenu()" class="block text-purple-600 hover:text-pink-500 transition-colors py-2">Fashion</a>
                    <a href="#beauty" onclick="toggleMobileMenu()" class="block text-purple-600 hover:text-pink-500 transition-colors py-2">Beauty</a>
                    <a href="#wellness" onclick="toggleMobileMenu()" class="block text-purple-600 hover:text-pink-500 transition-colors py-2">Wellness</a>
                    <a href="#lifestyle" onclick="toggleMobileMenu()" class="block text-purple-600 hover:text-pink-500 transition-colors py-2">Lifestyle</a>
                    <a href="#community" onclick="toggleMobileMenu()" class="block text-purple-600 hover:text-pink-500 transition-colors py-2">Community</a>
                </div>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="py-20 px-4">
        <div class="container mx-auto text-center">
            <div class="floating mb-8">
                <span class="text-6xl">üíñ</span>
            </div>
            <h2 class="text-5xl md:text-7xl font-bold dancing-script text-pink-600 mb-6">
                Welcome to Nipa
            </h2>
            <p class="text-xl md:text-2xl text-purple-700 mb-8 max-w-3xl mx-auto">
                Your all-in-one girly lifestyle hub for beauty, fashion, wellness, and everything that makes you sparkle! ‚ú®
            </p>
            <button onclick="openAIChat()" class="btn-gradient text-white px-8 py-4 rounded-full text-lg font-semibold hover:scale-105 transition-transform shadow-lg">
                Start Your Glow-Up Journey üåü
            </button>
            
            <!-- Floating decorations -->
            <div class="absolute top-20 left-10 floating sparkle text-pink-400 text-2xl">‚ú®</div>
            <div class="absolute top-32 right-16 floating-delayed sparkle text-purple-400 text-3xl">ü¶ã</div>
            <div class="absolute top-40 left-1/4 floating sparkle text-rose-400 text-2xl">üíï</div>
        </div>
    </section>

    <!-- Features Grid -->
    <section class="py-16 px-4" id="features">
        <div class="container mx-auto">
            <h3 class="text-4xl font-bold dancing-script text-center text-pink-600 mb-12">
                Everything You Love in One Place üíù
            </h3>
            
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Fashion Card -->
                <div class="bg-white/90 backdrop-blur-sm rounded-3xl p-8 card-hover shadow-xl flex flex-col relative" id="fashion">
                    <div class="loading-overlay" id="fashionLoading">
                        <div class="text-center">
                            <div class="text-4xl mb-2">‚ú®</div>
                            <div class="text-pink-600 font-semibold">Nipa is styling...</div>
                        </div>
                    </div>
                    <div class="text-center mb-6">
                        <span class="text-5xl">üëó</span>
                        <h4 class="text-2xl font-bold text-pink-600 mt-4 dancing-script">Fashion & Style</h4>
                    </div>
                    <ul class="space-y-3 text-purple-700 flex-grow">
                        <li class="flex items-center"><span class="mr-2">‚ú®</span> AI Outfit Generator</li>
                        <li class="flex items-center"><span class="mr-2">üëö</span> Virtual Closet Manager</li>
                        <li class="flex items-center"><span class="mr-2">üì±</span> Style Quiz & Recommendations</li>
                        <li class="flex items-center"><span class="mr-2">üåü</span> Trend Analysis</li>
                    </ul>
                    <button onclick="openFashionTool()" class="w-full mt-6 bg-pink-500 text-white py-3 rounded-full hover:bg-pink-600 transition-colors font-semibold">
                        Get Outfit Ideas üíÑ
                    </button>
                </div>

                <!-- Beauty Card -->
                <div class="bg-white/90 backdrop-blur-sm rounded-3xl p-8 card-hover shadow-xl flex flex-col relative" id="beauty">
                    <div class="loading-overlay" id="beautyLoading">
                        <div class="text-center">
                            <div class="text-4xl mb-2">üíÑ</div>
                            <div class="text-purple-600 font-semibold">Creating your routine...</div>
                        </div>
                    </div>
                    <div class="text-center mb-6">
                        <span class="text-5xl">üíÑ</span>
                        <h4 class="text-2xl font-bold text-pink-600 mt-4 dancing-script">Beauty & Skincare</h4>
                    </div>
                    <ul class="space-y-3 text-purple-700 flex-grow">
                        <li class="flex items-center"><span class="mr-2">üß¥</span> Custom Skincare Routine</li>
                        <li class="flex items-center"><span class="mr-2">üíã</span> Makeup Look Generator</li>
                        <li class="flex items-center"><span class="mr-2">‚≠ê</span> Product Matcher</li>
                        <li class="flex items-center"><span class="mr-2">ü•í</span> DIY Recipe Creator</li>
                    </ul>
                    <button onclick="openBeautyTool()" class="w-full mt-6 bg-purple-500 text-white py-3 rounded-full hover:bg-purple-600 transition-colors font-semibold">
                        Build Skincare Routine ‚ú®
                    </button>
                </div>

                <!-- Wellness Card -->
                <div class="bg-white/90 backdrop-blur-sm rounded-3xl p-8 card-hover shadow-xl flex flex-col relative" id="wellness">
                    <div class="loading-overlay" id="wellnessLoading">
                        <div class="text-center">
                            <div class="text-4xl mb-2">üßò</div>
                            <div class="text-green-600 font-semibold">Planning your wellness...</div>
                        </div>
                    </div>
                    <div class="text-center mb-6">
                        <span class="text-5xl">üßò</span>
                        <h4 class="text-2xl font-bold text-pink-600 mt-4 dancing-script">Health & Wellness</h4>
                    </div>
                    <ul class="space-y-3 text-purple-700 flex-grow">
                        <li class="flex items-center"><span class="mr-2">üìÖ</span> Period & Cycle Tracker</li>
                        <li class="flex items-center"><span class="mr-2">üßò‚Äç‚ôÄÔ∏è</span> Personalized Workouts</li>
                        <li class="flex items-center"><span class="mr-2">üí™</span> Fitness Goal Planner</li>
                        <li class="flex items-center"><span class="mr-2">ü•ó</span> Nutrition Calculator</li>
                    </ul>
                    <button onclick="openWellnessTool()" class="w-full mt-6 bg-green-400 text-white py-3 rounded-full hover:bg-green-500 transition-colors font-semibold">
                        Track Your Wellness üå±
                    </button>
                </div>

                <!-- Lifestyle Card -->
                <div class="bg-white/90 backdrop-blur-sm rounded-3xl p-8 card-hover shadow-xl flex flex-col relative" id="lifestyle">
                    <div class="loading-overlay" id="lifestyleLoading">
                        <div class="text-center">
                            <div class="text-4xl mb-2">üíï</div>
                            <div class="text-rose-600 font-semibold">Caring for you...</div>
                        </div>
                    </div>
                    <div class="text-center mb-6">
                        <span class="text-5xl">üíï</span>
                        <h4 class="text-2xl font-bold text-pink-600 mt-4 dancing-script">Love & Self-Care</h4>
                    </div>
                    <ul class="space-y-3 text-purple-700 flex-grow">
                        <li class="flex items-center"><span class="mr-2">üíù</span> Relationship Advice AI</li>
                        <li class="flex items-center"><span class="mr-2">üë≠</span> Mood Tracker & Journal</li>
                        <li class="flex items-center"><span class="mr-2">üìù</span> Daily Affirmations</li>
                        <li class="flex items-center"><span class="mr-2">üå∏</span> Self-Care Planner</li>
                    </ul>
                    <button onclick="openLifestyleTool()" class="w-full mt-6 bg-rose-500 text-white py-3 rounded-full hover:bg-rose-600 transition-colors font-semibold">
                        Start Self-Care Journey üíÜ‚Äç‚ôÄÔ∏è
                    </button>
                </div>

                <!-- Shopping Card -->
                <div class="bg-white/90 backdrop-blur-sm rounded-3xl p-8 card-hover shadow-xl flex flex-col relative">
                    <div class="loading-overlay" id="shoppingLoading">
                        <div class="text-center">
                            <div class="text-4xl mb-2">üõçÔ∏è</div>
                            <div class="text-indigo-600 font-semibold">Finding best deals...</div>
                        </div>
                    </div>
                    <div class="text-center mb-6">
                        <span class="text-5xl">üõçÔ∏è</span>
                        <h4 class="text-2xl font-bold text-pink-600 mt-4 dancing-script">Smart Shopping</h4>
                    </div>
                    <ul class="space-y-3 text-purple-700 flex-grow">
                        <li class="flex items-center"><span class="mr-2">üõí</span> AI Product Finder</li>
                        <li class="flex items-center"><span class="mr-2">üíé</span> Price Comparison</li>
                        <li class="flex items-center"><span class="mr-2">üè∑Ô∏è</span> Deal Alerts</li>
                        <li class="flex items-center"><span class="mr-2">üí≥</span> Budget Tracker</li>
                    </ul>
                    <button onclick="openShoppingTool()" class="w-full mt-6 bg-indigo-500 text-white py-3 rounded-full hover:bg-indigo-600 transition-colors font-semibold">
                        Find Best Deals üí∏
                    </button>
                </div>

                <!-- Community Card -->
                <div class="bg-white/90 backdrop-blur-sm rounded-3xl p-8 card-hover shadow-xl flex flex-col relative" id="community">
                    <div class="loading-overlay" id="communityLoading">
                        <div class="text-center">
                            <div class="text-4xl mb-2">üë©‚Äç‚ù§Ô∏è‚Äçüë©</div>
                            <div class="text-pink-600 font-semibold">Connecting with girls...</div>
                        </div>
                    </div>
                    <div class="text-center mb-6">
                        <span class="text-5xl">üë©‚Äç‚ù§Ô∏è‚Äçüë©</span>
                        <h4 class="text-2xl font-bold text-pink-600 mt-4 dancing-script">Girly Community</h4>
                    </div>
                    <ul class="space-y-3 text-purple-700 flex-grow">
                        <li class="flex items-center"><span class="mr-2">üí¨</span> Anonymous Chat Rooms</li>
                        <li class="flex items-center"><span class="mr-2">üèÜ</span> Style Challenges</li>
                        <li class="flex items-center"><span class="mr-2">üéôÔ∏è</span> Voice Notes Sharing</li>
                        <li class="flex items-center"><span class="mr-2">üîí</span> Safe Q&A Forum</li>
                    </ul>
                    <button onclick="openCommunityTool()" class="w-full mt-6 bg-pink-500 text-white py-3 rounded-full hover:bg-pink-600 transition-colors font-semibold">
                        Join Girl Talk üëØ‚Äç‚ôÄÔ∏è
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- AI Assistant Section -->
    <section class="py-16 px-4 bg-white/50">
        <div class="container mx-auto text-center">
            <div class="floating-delayed mb-8">
                <span class="text-6xl">ü§ñ</span>
            </div>
            <h3 class="text-4xl font-bold dancing-script text-pink-600 mb-6">
                Meet Your AI Bestie! üíï
            </h3>
            <p class="text-xl text-purple-700 mb-8 max-w-2xl mx-auto">
                Get personalized beauty advice, fashion tips, and lifestyle guidance from our AI assistant powered by DeepSeek! ‚ú®
            </p>
            <div class="bg-white rounded-3xl p-8 max-w-md mx-auto shadow-xl">
                <div class="flex items-center space-x-4 mb-4">
                    <div class="w-12 h-12 bg-gradient-to-r from-pink-400 to-purple-500 rounded-full flex items-center justify-center">
                        <span class="text-white text-xl">üíñ</span>
                    </div>
                    <div class="text-left">
                        <h4 class="font-semibold text-pink-600">Nipa AI</h4>
                        <p class="text-sm text-purple-500">Your Style Bestie</p>
                    </div>
                </div>
                <div class="bg-pink-50 rounded-2xl p-4 text-left">
                    <p class="text-purple-700">"Hey gorgeous! I'm here to help with fashion, beauty, wellness, and everything girly! What would you like to chat about? üíÑ‚ú®"</p>
                </div>
                <button onclick="openAIChat()" class="w-full mt-4 btn-gradient text-white py-3 rounded-full hover:scale-105 transition-transform">
                    Chat with AI Bestie üí¨
                </button>
            </div>
        </div>
    </section>

    <!-- Modals -->
    <!-- AI Chat Modal -->
    <div id="aiChatModal" class="modal">
        <div class="bg-white rounded-3xl p-6 max-w-md w-full mx-4 max-h-[80vh] flex flex-col">
            <div class="flex items-center justify-between mb-4">
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 bg-gradient-to-r from-pink-400 to-purple-500 rounded-full flex items-center justify-center">
                        <span class="text-white">üíñ</span>
                    </div>
                    <div>
                        <h3 class="font-bold text-pink-600">Nipa AI</h3>
                        <p class="text-sm text-purple-500">Online</p>
                    </div>
                </div>
                <button onclick="closeModal('aiChatModal')" class="text-gray-500 hover:text-gray-700">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            
            <div id="chatMessages" class="flex-1 overflow-y-auto mb-4 space-y-2 max-h-96">
                <div class="ai-message chat-message">
                    <p>Hi beautiful! üíï I'm your AI bestie here to help with fashion, beauty, wellness, and all things girly! What would you like to chat about today? ‚ú®</p>
                </div>
            </div>
            
            <div class="typing-indicator" id="typingIndicator">
                <div class="flex items-center space-x-2">
                    <div class="w-8 h-8 bg-gradient-to-r from-pink-400 to-purple-500 rounded-full flex items-center justify-center">
                        <span class="text-white text-sm">üíñ</span>
                    </div>
                    <div class="text-purple-600">
                        <span class="typing-dots">Nipa is typing</span>
                        <span class="typing-dots">.</span>
                        <span class="typing-dots">.</span>
                        <span class="typing-dots">.</span>
                    </div>
                </div>
            </div>
            
            <div class="flex items-center space-x-2 mt-4">
                <input type="text" id="chatInput" placeholder="Type your message..." class="flex-1 px-4 py-3 border border-pink-300 rounded-full focus:outline-none focus:border-pink-500 text-sm">
                <button onclick="sendMessage()" class="bg-pink-500 text-white px-6 py-3 rounded-full hover:bg-pink-600 transition-colors font-semibold text-sm flex-shrink-0">
                    Send üíï
                </button>
            </div>
        </div>
    </div>

    <!-- Fashion Tool Modal -->
    <div id="fashionModal" class="modal">
        <div class="bg-white rounded-3xl p-6 max-w-lg w-full mx-4 max-h-[80vh] overflow-y-auto relative">
            <div class="loading-overlay" id="fashionModalLoading">
                <div class="text-center">
                    <div class="text-4xl mb-2 animate-bounce">‚ú®</div>
                    <div class="text-pink-600 font-semibold">Nipa is creating your perfect outfit...</div>
                </div>
            </div>
            <div class="flex items-center justify-between mb-6">
                <h3 class="text-2xl font-bold text-pink-600 dancing-script">Fashion Stylist AI üëó</h3>
                <button onclick="closeModal('fashionModal')" class="text-gray-500 hover:text-gray-700">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            
            <div class="space-y-4">
                <div>
                    <label class="block text-purple-700 font-semibold mb-2">Occasion</label>
                    <select id="fashionOccasion" class="w-full px-4 py-2 border border-pink-300 rounded-lg focus:outline-none focus:border-pink-500">
                        <option value="">Select occasion...</option>
                        <option value="casual">Casual Day Out</option>
                        <option value="work">Office/Work</option>
                        <option value="date">Date Night</option>
                        <option value="party">Party/Event</option>
                        <option value="gym">Gym/Workout</option>
                        <option value="travel">Travel</option>
                    </select>
                </div>
                
                <div>
                    <label class="block text-purple-700 font-semibold mb-2">Weather</label>
                    <select id="fashionWeather" class="w-full px-4 py-2 border border-pink-300 rounded-lg focus:outline-none focus:border-pink-500">
                        <option value="">Select weather...</option>
                        <option value="hot">Hot & Sunny</option>
                        <option value="mild">Mild & Pleasant</option>
                        <option value="cold">Cold & Chilly</option>
                        <option value="rainy">Rainy</option>
                    </select>
                </div>
                
                <div>
                    <label class="block text-purple-700 font-semibold mb-2">Style Preference</label>
                    <select id="fashionStyle" class="w-full px-4 py-2 border border-pink-300 rounded-lg focus:outline-none focus:border-pink-500">
                        <option value="">Select style...</option>
                        <option value="cute">Cute & Girly</option>
                        <option value="chic">Chic & Elegant</option>
                        <option value="boho">Boho & Free-spirited</option>
                        <option value="edgy">Edgy & Bold</option>
                        <option value="minimal">Minimal & Clean</option>
                        <option value="vintage">Vintage & Retro</option>
                    </select>
                </div>
                
                <button onclick="generateOutfit()" class="w-full bg-pink-500 text-white py-3 rounded-full hover:bg-pink-600 transition-colors font-semibold">
                    Generate Perfect Outfit ‚ú®
                </button>
                
                <div id="outfitResult" class="mt-6 p-4 bg-pink-50 rounded-lg hidden">
                    <h4 class="font-bold text-pink-600 mb-2">Your Perfect Outfit üíï</h4>
                    <div id="outfitContent"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Beauty Tool Modal -->
    <div id="beautyModal" class="modal">
        <div class="bg-white rounded-3xl p-6 max-w-lg w-full mx-4 max-h-[80vh] overflow-y-auto relative">
            <div class="loading-overlay" id="beautyModalLoading">
                <div class="text-center">
                    <div class="text-4xl mb-2 animate-pulse">üíÑ</div>
                    <div class="text-purple-600 font-semibold">Creating your custom skincare routine...</div>
                </div>
            </div>
            <div class="flex items-center justify-between mb-6">
                <h3 class="text-2xl font-bold text-pink-600 dancing-script">Beauty & Skincare AI üíÑ</h3>
                <button onclick="closeModal('beautyModal')" class="text-gray-500 hover:text-gray-700">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            
            <div class="space-y-4">
                <div>
                    <label class="block text-purple-700 font-semibold mb-2">Skin Type</label>
                    <select id="skinType" class="w-full px-4 py-2 border border-pink-300 rounded-lg focus:outline-none focus:border-pink-500">
                        <option value="">Select skin type...</option>
                        <option value="oily">Oily</option>
                        <option value="dry">Dry</option>
                        <option value="combination">Combination</option>
                        <option value="sensitive">Sensitive</option>
                        <option value="normal">Normal</option>
                    </select>
                </div>
                
                <div>
                    <label class="block text-purple-700 font-semibold mb-2">Main Skin Concerns</label>
                    <select id="skinConcerns" class="w-full px-4 py-2 border border-pink-300 rounded-lg focus:outline-none focus:border-pink-500">
                        <option value="">Select main concern...</option>
                        <option value="acne">Acne & Breakouts</option>
                        <option value="aging">Anti-aging & Wrinkles</option>
                        <option value="dark-spots">Dark Spots & Pigmentation</option>
                        <option value="dullness">Dullness & Uneven Tone</option>
                        <option value="pores">Large Pores</option>
                        <option value="hydration">Dehydration</option>
                    </select>
                </div>
                
                <div>
                    <label class="block text-purple-700 font-semibold mb-2">Budget Range</label>
                    <select id="beautyBudget" class="w-full px-4 py-2 border border-pink-300 rounded-lg focus:outline-none focus:border-pink-500">
                        <option value="">Select budget...</option>
                        <option value="budget">Budget-friendly ($10-30)</option>
                        <option value="mid">Mid-range ($30-80)</option>
                        <option value="luxury">Luxury ($80+)</option>
                        <option value="mixed">Mix of all ranges</option>
                    </select>
                </div>
                
                <button onclick="generateSkincareRoutine()" class="w-full bg-purple-500 text-white py-3 rounded-full hover:bg-purple-600 transition-colors font-semibold">
                    Create My Skincare Routine ‚ú®
                </button>
                
                <div id="skincareResult" class="mt-6 p-4 bg-purple-50 rounded-lg hidden">
                    <h4 class="font-bold text-purple-600 mb-2">Your Custom Skincare Routine üíú</h4>
                    <div id="skincareContent"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Wellness Tool Modal -->
    <div id="wellnessModal" class="modal">
        <div class="bg-white rounded-3xl p-6 max-w-lg w-full mx-4 max-h-[80vh] overflow-y-auto relative">
            <div class="loading-overlay" id="wellnessModalLoading">
                <div class="text-center">
                    <div class="text-4xl mb-2 animate-spin">üßò</div>
                    <div class="text-green-600 font-semibold">Planning your wellness journey...</div>
                </div>
            </div>
            <div class="flex items-center justify-between mb-6">
                <h3 class="text-2xl font-bold text-pink-600 dancing-script">Wellness Tracker üßò</h3>
                <button onclick="closeModal('wellnessModal')" class="text-gray-500 hover:text-gray-700">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            
            <div class="space-y-6">
                <!-- Period Tracker -->
                <div class="bg-pink-50 p-4 rounded-lg">
                    <h4 class="font-bold text-pink-600 mb-3">Period Tracker üå∏</h4>
                    <div class="space-y-3">
                        <div>
                            <label class="block text-purple-700 mb-1">Last Period Start Date</label>
                            <input type="date" id="lastPeriod" class="w-full px-3 py-2 border border-pink-300 rounded-lg focus:outline-none focus:border-pink-500">
                        </div>
                        <div>
                            <label class="block text-purple-700 mb-1">Cycle Length (days)</label>
                            <input type="number" id="cycleLength" value="28" min="21" max="35" class="w-full px-3 py-2 border border-pink-300 rounded-lg focus:outline-none focus:border-pink-500">
                        </div>
                        <button onclick="calculateCycle()" class="w-full bg-pink-500 text-white py-2 rounded-lg hover:bg-pink-600 transition-colors">
                            Calculate Next Period üìÖ
                        </button>
                        <div id="cycleResult" class="hidden mt-3 p-3 bg-white rounded-lg"></div>
                    </div>
                </div>
                
                <!-- Fitness Planner -->
                <div class="bg-green-50 p-4 rounded-lg">
                    <h4 class="font-bold text-green-600 mb-3">Fitness Planner üí™</h4>
                    <div class="space-y-3">
                        <div>
                            <label class="block text-purple-700 mb-1">Fitness Goal</label>
                            <select id="fitnessGoal" class="w-full px-3 py-2 border border-green-300 rounded-lg focus:outline-none focus:border-green-500">
                                <option value="">Select goal...</option>
                                <option value="weight-loss">Weight Loss</option>
                                <option value="toning">Toning & Sculpting</option>
                                <option value="strength">Build Strength</option>
                                <option value="flexibility">Improve Flexibility</option>
                                <option value="general">General Fitness</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-purple-700 mb-1">Available Time (minutes/day)</label>
                            <select id="workoutTime" class="w-full px-3 py-2 border border-green-300 rounded-lg focus:outline-none focus:border-green-500">
                                <option value="">Select time...</option>
                                <option value="15">15 minutes</option>
                                <option value="30">30 minutes</option>
                                <option value="45">45 minutes</option>
                                <option value="60">1 hour</option>
                                <option value="90">1.5 hours</option>
                            </select>
                        </div>
                        <button onclick="generateWorkoutPlan()" class="w-full bg-green-500 text-white py-2 rounded-lg hover:bg-green-600 transition-colors">
                            Create Workout Plan üèÉ‚Äç‚ôÄÔ∏è
                        </button>
                        <div id="workoutResult" class="hidden mt-3 p-3 bg-white rounded-lg"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Lifestyle Tool Modal -->
    <div id="lifestyleModal" class="modal">
        <div class="bg-white rounded-3xl p-6 max-w-lg w-full mx-4 max-h-[80vh] overflow-y-auto relative">
            <div class="loading-overlay" id="lifestyleModalLoading">
                <div class="text-center">
                    <div class="text-4xl mb-2 animate-pulse">üíï</div>
                    <div class="text-rose-600 font-semibold">Caring for your wellbeing...</div>
                </div>
            </div>
            <div class="flex items-center justify-between mb-6">
                <h3 class="text-2xl font-bold text-pink-600 dancing-script">Self-Care & Lifestyle üíï</h3>
                <button onclick="closeModal('lifestyleModal')" class="text-gray-500 hover:text-gray-700">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            
            <div class="space-y-6">
                <!-- Mood Tracker -->
                <div class="bg-rose-50 p-4 rounded-lg">
                    <h4 class="font-bold text-rose-600 mb-3">Daily Mood Tracker üòä</h4>
                    <div class="space-y-3">
                        <div>
                            <label class="block text-purple-700 mb-2">How are you feeling today?</label>
                            <div class="grid grid-cols-5 gap-2">
                                <button onclick="selectMood('üò¢', 'sad')" class="mood-btn p-3 text-2xl border border-rose-300 rounded-lg hover:bg-rose-100 transition-colors">üò¢</button>
                                <button onclick="selectMood('üòê', 'neutral')" class="mood-btn p-3 text-2xl border border-rose-300 rounded-lg hover:bg-rose-100 transition-colors">üòê</button>
                                <button onclick="selectMood('üôÇ', 'okay')" class="mood-btn p-3 text-2xl border border-rose-300 rounded-lg hover:bg-rose-100 transition-colors">üôÇ</button>
                                <button onclick="selectMood('üòä', 'happy')" class="mood-btn p-3 text-2xl border border-rose-300 rounded-lg hover:bg-rose-100 transition-colors">üòä</button>
                                <button onclick="selectMood('ü•∞', 'amazing')" class="mood-btn p-3 text-2xl border border-rose-300 rounded-lg hover:bg-rose-100 transition-colors">ü•∞</button>
                            </div>
                        </div>
                        <div id="moodResult" class="hidden p-3 bg-white rounded-lg"></div>
                    </div>
                </div>
                
                <!-- Daily Affirmations -->
                <div class="bg-purple-50 p-4 rounded-lg">
                    <h4 class="font-bold text-purple-600 mb-3">Daily Affirmations ‚ú®</h4>
                    <button onclick="generateAffirmation()" class="w-full bg-purple-500 text-white py-2 rounded-lg hover:bg-purple-600 transition-colors mb-3">
                        Get My Daily Affirmation üåü
                    </button>
                    <div id="affirmationResult" class="hidden p-3 bg-white rounded-lg text-center"></div>
                </div>
                
                <!-- Self-Care Planner -->
                <div class="bg-pink-50 p-4 rounded-lg">
                    <h4 class="font-bold text-pink-600 mb-3">Self-Care Planner üõÅ</h4>
                    <div class="space-y-3">
                        <div>
                            <label class="block text-purple-700 mb-1">Available Time</label>
                            <select id="selfCareTime" class="w-full px-3 py-2 border border-pink-300 rounded-lg focus:outline-none focus:border-pink-500">
                                <option value="">Select time...</option>
                                <option value="5">5 minutes</option>
                                <option value="15">15 minutes</option>
                                <option value="30">30 minutes</option>
                                <option value="60">1 hour</option>
                                <option value="120">2+ hours</option>
                            </select>
                        </div>
                        <button onclick="generateSelfCare()" class="w-full bg-pink-500 text-white py-2 rounded-lg hover:bg-pink-600 transition-colors">
                            Plan My Self-Care Time üíÜ‚Äç‚ôÄÔ∏è
                        </button>
                        <div id="selfCareResult" class="hidden mt-3 p-3 bg-white rounded-lg"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Shopping Tool Modal -->
    <div id="shoppingModal" class="modal">
        <div class="bg-white rounded-3xl p-6 max-w-lg w-full mx-4 max-h-[80vh] overflow-y-auto relative">
            <div class="loading-overlay" id="shoppingModalLoading">
                <div class="text-center">
                    <div class="text-4xl mb-2 animate-bounce">üõçÔ∏è</div>
                    <div class="text-indigo-600 font-semibold">Finding the best deals for you...</div>
                </div>
            </div>
            <div class="flex items-center justify-between mb-6">
                <h3 class="text-2xl font-bold text-pink-600 dancing-script">Smart Shopping Assistant üõçÔ∏è</h3>
                <button onclick="closeModal('shoppingModal')" class="text-gray-500 hover:text-gray-700">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            
            <div class="space-y-4">
                <div>
                    <label class="block text-purple-700 font-semibold mb-2">What are you shopping for?</label>
                    <select id="shoppingCategory" class="w-full px-4 py-2 border border-pink-300 rounded-lg focus:outline-none focus:border-pink-500">
                        <option value="">Select category...</option>
                        <option value="makeup">Makeup & Cosmetics</option>
                        <option value="skincare">Skincare Products</option>
                        <option value="fashion">Fashion & Clothing</option>
                        <option value="accessories">Accessories & Jewelry</option>
                        <option value="wellness">Wellness & Self-Care</option>
                        <option value="home">Home & Decor</option>
                    </select>
                </div>
                
                <div>
                    <label class="block text-purple-700 font-semibold mb-2">Budget Range</label>
                    <select id="shoppingBudget" class="w-full px-4 py-2 border border-pink-300 rounded-lg focus:outline-none focus:border-pink-500">
                        <option value="">Select budget...</option>
                        <option value="under-25">Under $25</option>
                        <option value="25-50">$25 - $50</option>
                        <option value="50-100">$50 - $100</option>
                        <option value="100-200">$100 - $200</option>
                        <option value="over-200">Over $200</option>
                    </select>
                </div>
                
                <div>
                    <label class="block text-purple-700 font-semibold mb-2">Specific Item (Optional)</label>
                    <input type="text" id="specificItem" placeholder="e.g., red lipstick, summer dress..." class="w-full px-4 py-2 border border-pink-300 rounded-lg focus:outline-none focus:border-pink-500">
                </div>
                
                <button onclick="findProducts()" class="w-full bg-indigo-500 text-white py-3 rounded-full hover:bg-indigo-600 transition-colors font-semibold">
                    Find Best Products & Deals üíé
                </button>
                
                <div id="shoppingResult" class="mt-6 p-4 bg-indigo-50 rounded-lg hidden">
                    <h4 class="font-bold text-indigo-600 mb-2">Shopping Recommendations üõí</h4>
                    <div id="shoppingContent"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Community Tool Modal -->
    <div id="communityModal" class="modal">
        <div class="bg-white rounded-3xl p-6 max-w-lg w-full mx-4 max-h-[80vh] overflow-y-auto relative">
            <div class="loading-overlay" id="communityModalLoading">
                <div class="text-center">
                    <div class="text-4xl mb-2 animate-pulse">üë©‚Äç‚ù§Ô∏è‚Äçüë©</div>
                    <div class="text-pink-600 font-semibold">Connecting with the community...</div>
                </div>
            </div>
            <div class="flex items-center justify-between mb-6">
                <h3 class="text-2xl font-bold text-pink-600 dancing-script">Girly Community üëØ‚Äç‚ôÄÔ∏è</h3>
                <button onclick="closeModal('communityModal')" class="text-gray-500 hover:text-gray-700">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            
            <div class="space-y-4">
                <div class="bg-pink-50 p-4 rounded-lg">
                    <h4 class="font-bold text-pink-600 mb-3">Anonymous Q&A üí≠</h4>
                    <textarea id="anonymousQuestion" placeholder="Ask anything... relationships, beauty, life advice..." class="w-full px-3 py-2 border border-pink-300 rounded-lg focus:outline-none focus:border-pink-500 h-20 resize-none"></textarea>
                    <button onclick="submitAnonymousQuestion()" class="w-full mt-2 bg-pink-500 text-white py-2 rounded-lg hover:bg-pink-600 transition-colors">
                        Submit Anonymous Question ü§´
                    </button>
                </div>
                
                <div class="bg-purple-50 p-4 rounded-lg">
                    <h4 class="font-bold text-purple-600 mb-3">Daily Girl Talk Topics üí¨</h4>
                    <button onclick="generateGirlTalkTopic()" class="w-full bg-purple-500 text-white py-2 rounded-lg hover:bg-purple-600 transition-colors">
                        Get Today's Discussion Topic ‚ú®
                    </button>
                    <div id="girlTalkResult" class="hidden mt-3 p-3 bg-white rounded-lg"></div>
                </div>
                
                <div class="bg-rose-50 p-4 rounded-lg">
                    <h4 class="font-bold text-rose-600 mb-3">Style Challenge üèÜ</h4>
                    <button onclick="generateStyleChallenge()" class="w-full bg-rose-500 text-white py-2 rounded-lg hover:bg-rose-600 transition-colors">
                        Get Weekly Style Challenge üëó
                    </button>
                    <div id="styleChallengeResult" class="hidden mt-3 p-3 bg-white rounded-lg"></div>
                </div>
                
                <div id="communityResponse" class="hidden mt-4 p-4 bg-green-50 rounded-lg">
                    <div id="communityContent"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-white/80 backdrop-blur-md py-12 px-4">
        <div class="container mx-auto text-center">
            <div class="flex items-center justify-center space-x-2 mb-6">
                <span class="text-4xl">üå∫</span>
                <h1 class="text-3xl font-bold dancing-script text-pink-600">Nipa</h1>
            </div>
            <p class="text-purple-600 mb-6">Your girly lifestyle hub - where every girl shines! ‚ú®</p>
            <div class="flex justify-center space-x-6 mb-6">
                <span class="text-2xl cursor-pointer hover:scale-110 transition-transform">üì±</span>
                <span class="text-2xl cursor-pointer hover:scale-110 transition-transform">üíå</span>
                <span class="text-2xl cursor-pointer hover:scale-110 transition-transform">üåü</span>
                <span class="text-2xl cursor-pointer hover:scale-110 transition-transform">üíñ</span>
            </div>
            <div class="heart-beat">
                <span class="text-pink-500 text-xl">Made with üíï for all the amazing girls out there!</span>
            </div>
        </div>
    </footer>

    <script>
        // Updated JavaScript with proper loading indicators and emoji-focused AI
        const API_BASE_URL = window.location.origin;

        // Modal functions
        function openModal(modalId) {
            document.getElementById(modalId).classList.add('active');
        }

        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
        }

        function openAIChat() {
            openModal('aiChatModal');
        }

        function openFashionTool() {
            openModal('fashionModal');
        }

        function openBeautyTool() {
            openModal('beautyModal');
        }

        function openWellnessTool() {
            openModal('wellnessModal');
        }

        function openLifestyleTool() {
            openModal('lifestyleModal');
        }

        function openShoppingTool() {
            openModal('shoppingModal');
        }

        function openCommunityTool() {
            openModal('communityModal');
        }

        // Show/Hide loading indicators
        function showLoading(loadingId) {
            document.getElementById(loadingId).classList.add('active');
        }

        function hideLoading(loadingId) {
            document.getElementById(loadingId).classList.remove('active');
        }

        // Real AI Chat functionality using OpenRouter API
        async function callAI(prompt, systemPrompt = "You are Nipa, a helpful AI assistant for girls. You're friendly, supportive, and knowledgeable about fashion, beauty, wellness, and lifestyle. IMPORTANT: Always use emojis instead of asterisks (*). Never use asterisks for emphasis - use emojis like üíï‚ú®üåüüíñ instead. Respond in a girly, encouraging tone with lots of emojis.") {
            try {
                const response = await fetch(`${API_BASE_URL}/api/chat`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        message: prompt,
                        system_prompt: systemPrompt
                    })
                });

                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }

                const data = await response.json();
                
                if (data.error) {
                    throw new Error(data.error);
                }

                return data.response;
            } catch (error) {
                console.error('AI Error:', error);
                return "Sorry babe! I'm having a little technical moment right now. Please try again in a second! üíï‚ú®";
            }
        }

        async function sendMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            
            if (!message) return;

            // Add user message
            addChatMessage(message, 'user');
            input.value = '';

            // Show typing indicator
            document.getElementById('typingIndicator').classList.add('active');

            // Get AI response with emoji-focused prompt
            const enhancedPrompt = `${message} (Please respond with emojis instead of asterisks for emphasis)`;
            const response = await callAI(enhancedPrompt);
            
            // Hide typing indicator and add AI response
            document.getElementById('typingIndicator').classList.remove('active');
            addChatMessage(response, 'ai');
        }

        function addChatMessage(message, sender) {
            const messagesContainer = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `chat-message ${sender}-message`;
            messageDiv.innerHTML = `<p>${message}</p>`;
            messagesContainer.appendChild(messageDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        // Fashion Tool with loading
        async function generateOutfit() {
            const occasion = document.getElementById('fashionOccasion').value;
            const weather = document.getElementById('fashionWeather').value;
            const style = document.getElementById('fashionStyle').value;

            if (!occasion || !weather || !style) {
                alert('Please fill in all fields! üíï');
                return;
            }

            showLoading('fashionModalLoading');

            try {
                const response = await fetch(`${API_BASE_URL}/api/fashion/outfit`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        occasion: occasion,
                        weather: weather,
                        style: style
                    })
                });

                const data = await response.json();
                
                if (response.ok) {
                    // Replace asterisks with emojis
                    const cleanedOutfit = data.outfit.replace(/\*/g, '‚ú®').replace(/\n/g, '<br>');
                    document.getElementById('outfitContent').innerHTML = cleanedOutfit;
                    document.getElementById('outfitResult').classList.remove('hidden');
                } else {
                    alert('Error: ' + data.error);
                }
            } catch (error) {
                console.error('Error:', error);
                alert('Sorry! Something went wrong. Please try again! üíï');
            } finally {
                hideLoading('fashionModalLoading');
            }
        }

        // Beauty Tool with loading
        async function generateSkincareRoutine() {
            const skinType = document.getElementById('skinType').value;
            const concerns = document.getElementById('skinConcerns').value;
            const budget = document.getElementById('beautyBudget').value;

            if (!skinType || !concerns || !budget) {
                alert('Please fill in all fields! üíï');
                return;
            }

            showLoading('beautyModalLoading');

            try {
                const response = await fetch(`${API_BASE_URL}/api/beauty/skincare`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        skin_type: skinType,
                        concerns: concerns,
                        budget: budget
                    })
                });

                const data = await response.json();
                
                if (response.ok) {
                    const cleanedRoutine = data.routine.replace(/\*/g, '‚ú®').replace(/\n/g, '<br>');
                    document.getElementById('skincareContent').innerHTML = cleanedRoutine;
                    document.getElementById('skincareResult').classList.remove('hidden');
                } else {
                    alert('Error: ' + data.error);
                }
            } catch (error) {
                console.error('Error:', error);
                alert('Sorry! Something went wrong. Please try again! üíï');
            } finally {
                hideLoading('beautyModalLoading');
            }
        }

        // Wellness Tools with loading
        async function calculateCycle() {
            const lastPeriod = document.getElementById('lastPeriod').value;
            const cycleLength = document.getElementById('cycleLength').value;

            if (!lastPeriod || !cycleLength) {
                alert('Please fill in all fields! üíï');
                return;
            }

            showLoading('wellnessModalLoading');

            try {
                const response = await fetch(`${API_BASE_URL}/api/wellness/cycle`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        last_period: lastPeriod,
                        cycle_length: cycleLength
                    })
                });

                const data = await response.json();
                
                if (response.ok) {
                    const result = `
                        <h5 class="font-bold text-pink-600 mb-2">Your Cycle Predictions üå∏</h5>
                        <p><strong>Next Period:</strong> ${new Date(data.next_period).toDateString()}</p>
                        <p><strong>Ovulation:</strong> ${new Date(data.ovulation).toDateString()}</p>
                        <p><strong>Fertile Window:</strong> ${new Date(data.fertile_start).toDateString()} - ${new Date(data.fertile_end).toDateString()}</p>
                        <p class="text-sm text-purple-600 mt-2">üí° Remember to track your symptoms and adjust as needed!</p>
                    `;
                    document.getElementById('cycleResult').innerHTML = result;
                    document.getElementById('cycleResult').classList.remove('hidden');
                } else {
                    alert('Error: ' + data.error);
                }
            } catch (error) {
                console.error('Error:', error);
                alert('Sorry! Something went wrong. Please try again! üíï');
            } finally {
                hideLoading('wellnessModalLoading');
            }
        }

        async function generateWorkoutPlan() {
            const goal = document.getElementById('fitnessGoal').value;
            const time = document.getElementById('workoutTime').value;

            if (!goal || !time) {
                alert('Please fill in all fields! üíï');
                return;
            }

            showLoading('wellnessModalLoading');

            try {
                const response = await fetch(`${API_BASE_URL}/api/wellness/workout`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        goal: goal,
                        time: time
                    })
                });

                const data = await response.json();
                
                if (response.ok) {
                    const cleanedWorkout = data.workout.replace(/\*/g, '‚ú®').replace(/\n/g, '<br>');
                    document.getElementById('workoutResult').innerHTML = cleanedWorkout;
                    document.getElementById('workoutResult').classList.remove('hidden');
                } else {
                    alert('Error: ' + data.error);
                }
            } catch (error) {
                console.error('Error:', error);
                alert('Sorry! Something went wrong. Please try again! üíï');
            } finally {
                hideLoading('wellnessModalLoading');
            }
        }

        // Lifestyle Tools with loading
        let selectedMood = '';

        async function selectMood(emoji, mood) {
            selectedMood = mood;
            
            // Reset all mood buttons
            document.querySelectorAll('.mood-btn').forEach(btn => {
                btn.classList.remove('bg-rose-200', 'border-rose-500');
            });
            
            // Highlight selected mood
            event.target.classList.add('bg-rose-200', 'border-rose-500');
            
            showLoading('lifestyleModalLoading');
            
            try {
                const response = await fetch(`${API_BASE_URL}/api/lifestyle/mood`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        mood: mood,
                        emoji: emoji
                    })
                });

                const data = await response.json();
                
                if (response.ok) {
                    const cleanedResponse = data.response.replace(/\*/g, '‚ú®');
                    document.getElementById('moodResult').innerHTML = `<h5 class="font-bold text-rose-600 mb-2">Mood Support ${emoji}</h5><p>${cleanedResponse}</p>`;
                    document.getElementById('moodResult').classList.remove('hidden');
                } else {
                    alert('Error: ' + data.error);
                }
            } catch (error) {
                console.error('Error:', error);
                alert('Sorry! Something went wrong. Please try again! üíï');
            } finally {
                hideLoading('lifestyleModalLoading');
            }
        }

        async function generateAffirmation() {
            showLoading('lifestyleModalLoading');
            
            try {
                const response = await fetch(`${API_BASE_URL}/api/lifestyle/affirmation`);
                const data = await response.json();
                
                if (response.ok) {
                    const cleanedAffirmation = data.affirmation.replace(/\*/g, '‚ú®');
                    document.getElementById('affirmationResult').innerHTML = `<div class="text-lg font-semibold text-purple-600">${cleanedAffirmation}</div>`;
                    document.getElementById('affirmationResult').classList.remove('hidden');
                } else {
                    alert('Error: ' + data.error);
                }
            } catch (error) {
                console.error('Error:', error);
                alert('Sorry! Something went wrong. Please try again! üíï');
            } finally {
                hideLoading('lifestyleModalLoading');
            }
        }

        async function generateSelfCare() {
            const time = document.getElementById('selfCareTime').value;

            if (!time) {
                alert('Please select available time! üíï');
                return;
            }

            showLoading('lifestyleModalLoading');

            try {
                const response = await fetch(`${API_BASE_URL}/api/lifestyle/selfcare`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        time: time
                    })
                });

                const data = await response.json();
                
                if (response.ok) {
                    const cleanedRoutine = data.routine.replace(/\*/g, '‚ú®').replace(/\n/g, '<br>');
                    document.getElementById('selfCareResult').innerHTML = cleanedRoutine;
                    document.getElementById('selfCareResult').classList.remove('hidden');
                } else {
                    alert('Error: ' + data.error);
                }
            } catch (error) {
                console.error('Error:', error);
                alert('Sorry! Something went wrong. Please try again! üíï');
            } finally {
                hideLoading('lifestyleModalLoading');
            }
        }

        // Shopping Tool with loading
        async function findProducts() {
            const category = document.getElementById('shoppingCategory').value;
            const budget = document.getElementById('shoppingBudget').value;
            const specific = document.getElementById('specificItem').value;

            if (!category || !budget) {
                alert('Please fill in the required fields! üíï');
                return;
            }

            showLoading('shoppingModalLoading');

            try {
                const response = await fetch(`${API_BASE_URL}/api/shopping/products`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        category: category,
                        budget: budget,
                        specific: specific
                    })
                });

                const data = await response.json();
                
                if (response.ok) {
                    const cleanedProducts = data.products.replace(/\*/g, '‚ú®').replace(/\n/g, '<br>');
                    document.getElementById('shoppingContent').innerHTML = cleanedProducts;
                    document.getElementById('shoppingResult').classList.remove('hidden');
                } else {
                    alert('Error: ' + data.error);
                }
            } catch (error) {
                console.error('Error:', error);
                alert('Sorry! Something went wrong. Please try again! üíï');
            } finally {
                hideLoading('shoppingModalLoading');
            }
        }

        // Community Tools with loading
        async function submitAnonymousQuestion() {
            const question = document.getElementById('anonymousQuestion').value.trim();

            if (!question) {
                alert('Please enter your question! üíï');
                return;
            }

            showLoading('communityModalLoading');

            try {
                const response = await fetch(`${API_BASE_URL}/api/community/question`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        question: question
                    })
                });

                const data = await response.json();
                
                if (response.ok) {
                    const cleanedResponse = data.response.replace(/\*/g, '‚ú®');
                    document.getElementById('communityContent').innerHTML = `<h5 class="font-bold text-green-600 mb-2">Community Response üíï</h5><p>${cleanedResponse}</p>`;
                    document.getElementById('communityResponse').classList.remove('hidden');
                    document.getElementById('anonymousQuestion').value = '';
                } else {
                    alert('Error: ' + data.error);
                }
            } catch (error) {
                console.error('Error:', error);
                alert('Sorry! Something went wrong. Please try again! üíï');
            } finally {
                hideLoading('communityModalLoading');
            }
        }

        async function generateGirlTalkTopic() {
            showLoading('communityModalLoading');
            
            try {
                const response = await fetch(`${API_BASE_URL}/api/community/girl-talk`);
                const data = await response.json();
                
                if (response.ok) {
                    const cleanedTopic = data.topic.replace(/\*/g, '‚ú®');
                    document.getElementById('girlTalkResult').innerHTML = `<h5 class="font-bold text-purple-600 mb-2">Today's Girl Talk Topic üí¨</h5><p>${cleanedTopic}</p>`;
                    document.getElementById('girlTalkResult').classList.remove('hidden');
                } else {
                    alert('Error: ' + data.error);
                }
            } catch (error) {
                console.error('Error:', error);
                alert('Sorry! Something went wrong. Please try again! üíï');
            } finally {
                hideLoading('communityModalLoading');
            }
        }

        async function generateStyleChallenge() {
            showLoading('communityModalLoading');
            
            try {
                const response = await fetch(`${API_BASE_URL}/api/community/style-challenge`);
                const data = await response.json();
                
                if (response.ok) {
                    const cleanedChallenge = data.challenge.replace(/\*/g, '‚ú®');
                    document.getElementById('styleChallengeResult').innerHTML = `<h5 class="font-bold text-rose-600 mb-2">This Week's Style Challenge üèÜ</h5><p>${cleanedChallenge}</p>`;
                    document.getElementById('styleChallengeResult').classList.remove('hidden');
                } else {
                    alert('Error: ' + data.error);
                }
            } catch (error) {
                console.error('Error:', error);
                alert('Sorry! Something went wrong. Please try again! üíï');
            } finally {
                hideLoading('communityModalLoading');
            }
        }

        // Enter key support for chat
        document.getElementById('chatInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });

        // Close modals when clicking outside
        document.querySelectorAll('.modal').forEach(modal => {
            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    modal.classList.remove('active');
                }
            });
        });

        // Add some interactive sparkles
        function createSparkle() {
            const sparkle = document.createElement('div');
            sparkle.innerHTML = '‚ú®';
            sparkle.className = 'fixed text-pink-400 text-xl pointer-events-none z-10';
            sparkle.style.left = Math.random() * window.innerWidth + 'px';
            sparkle.style.top = Math.random() * window.innerHeight + 'px';
            sparkle.style.animation = 'sparkle 2s ease-in-out forwards';
            
            document.body.appendChild(sparkle);
            
            setTimeout(() => {
                sparkle.remove();
            }, 2000);
        }

        // Create sparkles periodically
        setInterval(createSparkle, 3000);

        // Smooth scrolling for navigation
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Add click effects to buttons
        document.querySelectorAll('button').forEach(button => {
            button.addEventListener('click', function(e) {
                // Create a heart effect
                const heart = document.createElement('div');
                heart.innerHTML = 'üíñ';
                heart.className = 'fixed text-2xl pointer-events-none z-50';
                heart.style.left = e.clientX + 'px';
                heart.style.top = e.clientY + 'px';
                heart.style.animation = 'heartbeat 1s ease-out forwards';
                
                document.body.appendChild(heart);
                
                setTimeout(() => {
                    heart.remove();
                }, 1000);
            });
        });

        // Mobile menu toggle
        function toggleMobileMenu() {
            const mobileMenu = document.getElementById('mobileMenu');
            if (mobileMenu.classList.contains('hidden')) {
                mobileMenu.classList.remove('hidden');
            } else {
                mobileMenu.classList.add('hidden');
            }
        }

        // Initialize app
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Nipa is ready! üíñ‚ú®');
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'979ec0e4e76d47e3',t:'MTc1NzAwMjE5MC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
