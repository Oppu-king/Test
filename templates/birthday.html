<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéÇ Happy Birthday Nipa! üéâ - Ultimate Birthday Sanctuary</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;500;600;700&family=Poppins:wght@300;400;500;600;700;800&family=Great+Vibes&family=Satisfy&display=swap" rel="stylesheet">
    <style>
        :root {
            --love-pink: #ff6b9d;
            --love-purple: #c44569;
            --love-gold: #ffd700;
            --love-rose: #ff9ff3;
            --love-coral: #ff7675;
            --love-lavender: #a29bfe;
            --love-mint: #00cec9;
            --love-peach: #fd79a8;
            --bg-primary: #0a0a0a;
            --bg-secondary: #1a1a2e;
            --bg-tertiary: #16213e;
            --text-primary: #ffffff;
            --text-secondary: #e0e0e0;
            --glass-bg: rgba(255, 255, 255, 0.1);
            --glass-border: rgba(255, 255, 255, 0.2);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, 
                #0a0a0a 0%, 
                #1a1a2e 25%, 
                #16213e 50%, 
                #1a1a2e 75%, 
                #0a0a0a 100%);
            color: var(--text-primary);
            overflow-x: hidden;
            min-height: 100vh;
        }

        /* GLASS MORPHISM */
        .glass {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
        }

        /* HEADER EXCELLENCE */
        .header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            padding: 20px 0;
            background: rgba(10, 10, 10, 0.9);
            backdrop-filter: blur(30px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 40px;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--love-pink) 0%, var(--love-purple) 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            animation: heartbeat 2s ease-in-out infinite;
        }

        @keyframes heartbeat {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .logo-text {
            font-family: 'Great Vibes', cursive;
            font-size: 28px;
            background: linear-gradient(135deg, var(--love-pink) 0%, var(--love-gold) 100%);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .nav-menu {
            display: flex;
            gap: 30px;
        }

        .nav-item {
            color: var(--text-primary);
            text-decoration: none;
            font-weight: 500;
            padding: 10px 20px;
            border-radius: 25px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .nav-item:hover {
            background: linear-gradient(135deg, var(--love-pink) 0%, var(--love-purple) 100%);
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(255, 107, 157, 0.3);
        }

        /* DROPDOWN MENU STYLES */
        .dropdown {
            position: relative;
            display: inline-block;
        }

        .dropdown-menu {
            position: absolute;
            top: 100%;
            left: 0;
            background: rgba(10, 10, 10, 0.95);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 15px;
            min-width: 200px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s ease;
            z-index: 1001;
        }

        .dropdown:hover .dropdown-menu {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .dropdown-item {
            display: block;
            padding: 12px 20px;
            color: var(--text-primary);
            text-decoration: none;
            font-size: 14px;
            transition: all 0.3s ease;
            border-radius: 10px;
            margin: 5px;
        }

        .dropdown-item:hover {
            background: linear-gradient(135deg, var(--love-pink) 0%, var(--love-purple) 100%);
            transform: translateX(5px);
        }

        /* MAIN CONTAINER */
        .main-container {
            margin-top: 100px;
            padding: 40px 20px;
            max-width: 1400px;
            margin-left: auto;
            margin-right: auto;
        }

        /* HERO SECTION */
        .hero-section {
            text-align: center;
            padding: 60px 0;
            position: relative;
        }

        .hero-title {
            font-family: 'Great Vibes', cursive;
            font-size: 4rem;
            background: linear-gradient(135deg, var(--love-pink) 0%, var(--love-gold) 50%, var(--love-purple) 100%);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 20px;
            animation: titleGlow 3s ease-in-out infinite alternate;
        }

        @keyframes titleGlow {
            0% { filter: drop-shadow(0 0 10px rgba(255, 107, 157, 0.5)); }
            100% { filter: drop-shadow(0 0 20px rgba(255, 215, 0, 0.8)); }
        }

        .hero-subtitle {
            font-size: 1.5rem;
            color: var(--text-secondary);
            margin-bottom: 40px;
            font-family: 'Dancing Script', cursive;
        }

        /* COUNTDOWN TIMER */
        .countdown-section {
            margin: 60px 0;
            text-align: center;
        }

        .countdown-title {
            font-family: 'Dancing Script', cursive;
            font-size: 2.5rem;
            color: var(--love-pink);
            margin-bottom: 30px;
        }

        .countdown-container {
            display: flex;
            justify-content: center;
            gap: 30px;
            flex-wrap: wrap;
        }

        .countdown-item {
            background: linear-gradient(135deg, var(--love-pink) 0%, var(--love-purple) 100%);
            border-radius: 20px;
            padding: 30px 25px;
            min-width: 120px;
            box-shadow: 0 15px 35px rgba(255, 107, 157, 0.3);
            animation: pulse 2s ease-in-out infinite;
        }

        .countdown-number {
            font-size: 3rem;
            font-weight: 800;
            color: white;
            display: block;
        }

        .countdown-label {
            font-size: 1rem;
            color: rgba(255, 255, 255, 0.9);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* FEATURE GRID */
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin: 60px 0;
        }

        .feature-card {
            border-radius: 25px;
            padding: 40px 30px;
            text-align: center;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .feature-card:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 25px 50px rgba(255, 107, 157, 0.2);
        }

        .feature-icon {
            font-size: 3rem;
            margin-bottom: 20px;
            display: block;
        }

        .feature-title {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 15px;
            color: var(--love-pink);
        }

        .feature-description {
            color: var(--text-secondary);
            line-height: 1.6;
            margin-bottom: 25px;
        }

        .feature-btn {
            background: linear-gradient(135deg, var(--love-pink) 0%, var(--love-purple) 100%);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .feature-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 25px rgba(255, 107, 157, 0.4);
        }

        .feature-btn:active {
            transform: scale(0.95);
        }

        /* MODAL STYLES */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .modal.show {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            border-radius: 25px;
            padding: 40px;
            max-width: 500px;
            width: 90%;
            text-align: center;
            position: relative;
        }

        .modal-close {
            position: absolute;
            top: 15px;
            right: 20px;
            background: none;
            border: none;
            color: var(--text-primary);
            font-size: 2rem;
            cursor: pointer;
        }

        /* ENHANCED GALLERY STYLES */
        .photo-item {
            position: relative;
            border-radius: 15px;
            overflow: hidden;
            transition: all 0.3s ease;
            background: rgba(255,255,255,0.1);
            border: 2px solid rgba(255,255,255,0.2);
        }

        .photo-item:hover {
            transform: scale(1.05);
            box-shadow: 0 15px 35px rgba(255, 107, 157, 0.3);
        }

        .photo-item img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            cursor: pointer;
        }

        .photo-info {
            padding: 15px;
            background: linear-gradient(135deg, var(--love-pink), var(--love-purple));
            color: white;
        }

        .photo-date {
            font-size: 12px;
            opacity: 0.9;
        }

        .photo-actions {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }

        .photo-btn {
            padding: 5px 10px;
            border: none;
            border-radius: 10px;
            background: rgba(255,255,255,0.2);
            color: white;
            cursor: pointer;
            font-size: 12px;
            transition: all 0.3s ease;
        }

        .photo-btn:hover {
            background: rgba(255,255,255,0.3);
            transform: scale(1.05);
        }

        /* UPLOAD PROGRESS */
        .upload-progress {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: linear-gradient(135deg, var(--love-pink), var(--love-purple));
            color: white;
            padding: 30px;
            border-radius: 20px;
            z-index: 10001;
            text-align: center;
            min-width: 300px;
        }

        .progress-bar {
            width: 100%;
            height: 10px;
            background: rgba(255,255,255,0.3);
            border-radius: 5px;
            margin: 15px 0;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: white;
            border-radius: 5px;
            transition: width 0.3s ease;
        }

        /* RESPONSIVE DESIGN */
        @media (max-width: 768px) {
            .hero-title {
                font-size: 2.5rem;
            }
            
            .countdown-container {
                gap: 15px;
            }
            
            .countdown-item {
                padding: 20px 15px;
                min-width: 100px;
            }
            
            .countdown-number {
                font-size: 2rem;
            }
            
            .nav-menu {
                display: none;
            }
            
            .header-content {
                padding: 0 20px;
            }
        }

        /* SPECIAL ANIMATIONS */
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .love-animation {
            animation: loveFloat 6s ease-in-out infinite;
        }

        @keyframes loveFloat {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            33% { transform: translateY(-10px) rotate(5deg); }
            66% { transform: translateY(5px) rotate(-3deg); }
        }

        @keyframes floatUp {
            from { 
                transform: translateY(0); 
                opacity: 1; 
            }
            to { 
                transform: translateY(-100px); 
                opacity: 0; 
            }
        }

        @keyframes sparkle {
            0% { transform: scale(0) rotate(0deg); opacity: 1; }
            50% { transform: scale(1.5) rotate(180deg); opacity: 0.8; }
            100% { transform: scale(0) rotate(360deg); opacity: 0; }
        }

        /* MUSIC NOTIFICATION */
        .music-notification {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: linear-gradient(135deg, var(--love-pink), var(--love-purple));
            color: white;
            padding: 30px 40px;
            border-radius: 25px;
            text-align: center;
            z-index: 10000;
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
            animation: musicPulse 2s ease-in-out infinite;
        }

        @keyframes musicPulse {
            0%, 100% { transform: translate(-50%, -50%) scale(1); }
            50% { transform: translate(-50%, -50%) scale(1.05); }
        }

        /* PERSISTENT MUSIC PLAYER */
        .music-player {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: linear-gradient(135deg, var(--love-pink), var(--love-purple));
            color: white;
            padding: 15px 20px;
            border-radius: 50px;
            z-index: 9999;
            display: flex;
            align-items: center;
            gap: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .music-player:hover {
            transform: scale(1.05);
        }

        .music-controls {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .music-btn {
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            padding: 8px 12px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .music-btn:hover {
            background: rgba(255,255,255,0.3);
        }
    </style>
</head>
<body>
    <!-- Persistent Music Player -->
    <div class="music-player" id="musicPlayer">
        <div style="font-size: 1.5rem; animation: pulse 2s infinite;">üéµ</div>
        <div>
            <div style="font-size: 14px; font-weight: bold;">Happy Birthday Song</div>
            <div style="font-size: 12px; opacity: 0.9;">Playing for Nipa ‚ú®</div>
        </div>
        <div class="music-controls">
            <button class="music-btn" onclick="toggleMusic()" id="playPauseBtn">‚è∏Ô∏è</button>
            <button class="music-btn" onclick="replayMusic()">üîÑ</button>
        </div>
    </div>

    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <div class="logo">
                <div class="logo-icon">üéÇ</div>
                <span class="logo-text">Happy Birthday Nipa!</span>
            </div>
            <nav class="nav-menu">
                <!-- Birthday Hub Dropdown -->
                <div class="dropdown">
                    <a href="#" class="nav-item dropdown-toggle">üéÇ Birthday Hub</a>
                    <div class="dropdown-menu">
                        <a href="#home" class="dropdown-item">üè† Home</a>
                        <a href="#gallery" class="dropdown-item" onclick="openGallery()">üì∏ Gallery</a>
                        <a href="#games" class="dropdown-item" onclick="openGames()">üéÆ Games</a>
                        <a href="#music" class="dropdown-item" onclick="openMusic()">üéµ Music</a>
                        <a href="#messages" class="dropdown-item" onclick="openMessages()">üíå Messages</a>
                    </div>
                </div>
                
                <!-- Camera Studio Dropdown -->
                <div class="dropdown">
                    <a href="#" class="nav-item dropdown-toggle">üì∑ Camera Studio</a>
                    <div class="dropdown-menu">
                        <a href="#" class="dropdown-item" onclick="openSelfieCamera()">ü§≥ Selfie Camera</a>
                        <a href="#" class="dropdown-item" onclick="openReelMaker()">üé¨ Reel Maker</a>
                        <a href="#" class="dropdown-item" onclick="openPhotoEditor()">‚úèÔ∏è Photo Editor</a>
                    </div>
                </div>
                
                <!-- Fun Activities Dropdown -->
                <div class="dropdown">
                    <a href="#" class="nav-item dropdown-toggle">üé™ Fun Activities</a>
                    <div class="dropdown-menu">
                        <a href="#" class="dropdown-item" onclick="openVirtualCake()">üéÇ Virtual Cake</a>
                        <a href="#" class="dropdown-item" onclick="openGiftBoxes()">üéÅ Gift Boxes</a>
                        <a href="#" class="dropdown-item" onclick="openArtStudio()">üé® Art Studio</a>
                        <a href="#" class="dropdown-item" onclick="openJournal()">üìù Memory Journal</a>
                        <a href="#" class="dropdown-item" onclick="calculateLove()">üíï Love Calculator</a>
                    </div>
                </div>
                
                <!-- Shopping Dropdown -->
                <div class="dropdown">
                    <a href="#" class="nav-item dropdown-toggle">üõçÔ∏è Birthday Shopping</a>
                    <div class="dropdown-menu">
                        <a href="#shopping" class="dropdown-item">üéÅ Shop Now</a>
                        <a href="#gifts" class="dropdown-item">üíù Gift Ideas</a>
                        <a href="#deals" class="dropdown-item">üî• Best Deals</a>
                    </div>
                </div>
            </nav>
        </div>
    </header>

    <!-- Main Container -->
    <div class="main-container">
        <!-- Hero Section -->
        <section class="hero-section" id="home">
            <h1 class="hero-title">üéâ Happy Birthday Beautiful Nipa! üéÇ</h1>
            <p class="hero-subtitle">Today is all about celebrating YOU, my amazing girlfriend! ‚ú®üéà</p>
            
            <!-- Countdown to Nipa's Birthday -->
            <div class="countdown-section">
                <h2 class="countdown-title">Countdown to Nipa's Next Birthday üéÇ</h2>
                <div class="countdown-container">
                    <div class="countdown-item love-animation">
                        <span class="countdown-number" id="days">000</span>
                        <span class="countdown-label">Days</span>
                    </div>
                    <div class="countdown-item love-animation">
                        <span class="countdown-number" id="hours">00</span>
                        <span class="countdown-label">Hours</span>
                    </div>
                    <div class="countdown-item love-animation">
                        <span class="countdown-number" id="minutes">00</span>
                        <span class="countdown-label">Minutes</span>
                    </div>
                    <div class="countdown-item love-animation">
                        <span class="countdown-number" id="seconds">00</span>
                        <span class="countdown-label">Seconds</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Main Features Grid -->
        <div class="features-grid">
            <!-- Core Features -->
            <div class="feature-card glass love-animation">
                <span class="feature-icon">üì∏</span>
                <h3 class="feature-title">Photo Gallery</h3>
                <p class="feature-description">Upload multiple photos and store memories forever</p>
                <button class="feature-btn" onclick="openGallery()">Open Gallery</button>
            </div>
            
            <div class="feature-card glass love-animation">
                <span class="feature-icon">üéÆ</span>
                <h3 class="feature-title">Birthday Games</h3>
                <p class="feature-description">Fun interactive games and activities</p>
                <button class="feature-btn" onclick="openGames()">Play Games</button>
            </div>
            
            <div class="feature-card glass love-animation">
                <span class="feature-icon">üéµ</span>
                <h3 class="feature-title">Music Player</h3>
                <p class="feature-description">Birthday songs and music controls</p>
                <button class="feature-btn" onclick="openMusic()">Music Studio</button>
            </div>
            
            <div class="feature-card glass love-animation">
                <span class="feature-icon">üéÇ</span>
                <h3 class="feature-title">Virtual Birthday Cake</h3>
                <p class="feature-description">Blow candles and make wishes</p>
                <button class="feature-btn" onclick="openVirtualCake()">Blow Candles</button>
            </div>
            
            <div class="feature-card glass love-animation">
                <span class="feature-icon">üéÅ</span>
                <h3 class="feature-title">Gift Box Surprises</h3>
                <p class="feature-description">Open magical gift boxes with surprises</p>
                <button class="feature-btn" onclick="openGiftBoxes()">Open Gifts</button>
            </div>
            
            <div class="feature-card glass love-animation">
                <span class="feature-icon">üé®</span>
                <h3 class="feature-title">Digital Art Studio</h3>
                <p class="feature-description">Create birthday art and drawings</p>
                <button class="feature-btn" onclick="openArtStudio()">Create Art</button>
            </div>
        </div>

        <!-- Special Birthday Message Section -->
        <section style="margin: 80px 0; padding: 60px 40px; background: linear-gradient(135deg, var(--love-pink), var(--love-purple), var(--love-gold)); border-radius: 30px; text-align: center; position: relative; overflow: hidden;">
            <div style="position: relative; z-index: 2;">
                <h1 style="font-family: 'Great Vibes', cursive; font-size: 4rem; color: white; margin-bottom: 30px; text-shadow: 2px 2px 4px rgba(0,0,0,0.3); animation: titleGlow 3s ease-in-out infinite alternate;">
                    üéÇ Happy Birthday Beautiful Nipa! üéÇ
                </h1>
                <h2 style="font-family: 'Dancing Script', cursive; font-size: 2.5rem; color: #fff; margin-bottom: 25px; text-shadow: 1px 1px 2px rgba(0,0,0,0.3);">
                    Today is YOUR Special Day! ‚ú®
                </h2>
                <p style="font-size: 1.5rem; color: white; margin-bottom: 30px; line-height: 1.6; text-shadow: 1px 1px 2px rgba(0,0,0,0.3);">
                    üåü Another year of your amazing existence deserves the biggest celebration! üåü<br>
                    üíï You bring so much joy, love, and light into this world! üíï<br>
                    üéà May this year be filled with endless happiness, dreams coming true, and magical moments! üéà
                </p>
                <div style="display: flex; gap: 20px; justify-content: center; flex-wrap: wrap; margin-top: 40px;">
                    <button class="feature-btn" onclick="celebrateBirthday()" style="padding: 15px 30px; font-size: 18px; background: linear-gradient(135deg, #ffd700, #ff6b9d);">
                        üéâ Celebrate Now! üéâ
                    </button>
                    <button class="feature-btn" onclick="sendBirthdayWish()" style="padding: 15px 30px; font-size: 18px; background: linear-gradient(135deg, #ff9ff3, #a29bfe);">
                        ‚≠ê Send Birthday Wish ‚≠ê
                    </button>
                </div>
            </div>
        </section>

        <!-- Real Birthday Shopping Section -->
        <section class="shopping-section" id="shopping">
            <h2 style="text-align: center; font-family: 'Dancing Script', cursive; font-size: 3rem; color: var(--love-pink); margin-bottom: 40px;">üõçÔ∏è It's Your Birthday - Shop & Celebrate! üéÇ</h2>
            
            <div style="text-align: center; margin-bottom: 40px; padding: 30px; background: linear-gradient(135deg, var(--love-pink), var(--love-purple)); border-radius: 25px; color: white;">
                <h3 style="font-size: 2rem; margin-bottom: 15px;">üéâ Birthday Special Deals! üéâ</h3>
                <p style="font-size: 1.2rem;">Celebrate Nipa's birthday with amazing deals from top brands!</p>
                <p style="font-size: 1rem; margin-top: 10px;">‚ú® Click any link below to shop with real discounts! ‚ú®</p>
            </div>
            
            <!-- Shopping Categories -->
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px;">
                
                <!-- Fashion & Beauty -->
                <div class="glass" style="padding: 30px; border-radius: 25px; text-align: center;">
                    <div style="font-size: 3rem; margin-bottom: 20px;">üëó</div>
                    <h3 style="color: var(--love-pink); margin-bottom: 20px;">Fashion & Beauty</h3>
                    <div style="display: flex; flex-direction: column; gap: 15px;">
                        <a href="https://www.myntra.com/women" target="_blank" style="text-decoration: none;">
                            <button class="feature-btn" style="width: 100%; padding: 15px;">üõçÔ∏è Myntra - Fashion Sale</button>
                        </a>
                        <a href="https://www.nykaa.com/" target="_blank" style="text-decoration: none;">
                            <button class="feature-btn" style="width: 100%; padding: 15px;">üíÑ Nykaa - Beauty Products</button>
                        </a>
                        <a href="https://www.ajio.com/women" target="_blank" style="text-decoration: none;">
                            <button class="feature-btn" style="width: 100%; padding: 15px;">‚ú® Ajio - Trendy Outfits</button>
                        </a>
                    </div>
                </div>
                
                <!-- Electronics & Gadgets -->
                <div class="glass" style="padding: 30px; border-radius: 25px; text-align: center;">
                    <div style="font-size: 3rem; margin-bottom: 20px;">üì±</div>
                    <h3 style="color: var(--love-gold); margin-bottom: 20px;">Electronics & Gadgets</h3>
                    <div style="display: flex; flex-direction: column; gap: 15px;">
                        <a href="https://www.amazon.in/electronics" target="_blank" style="text-decoration: none;">
                            <button class="feature-btn" style="width: 100%; padding: 15px;">üì¶ Amazon - Electronics</button>
                        </a>
                        <a href="https://www.flipkart.com/mobiles" target="_blank" style="text-decoration: none;">
                            <button class="feature-btn" style="width: 100%; padding: 15px;">üì± Flipkart - Mobiles</button>
                        </a>
                        <a href="https://www.croma.com/" target="_blank" style="text-decoration: none;">
                            <button class="feature-btn" style="width: 100%; padding: 15px;">üîå Croma - Appliances</button>
                        </a>
                    </div>
                </div>
                
                <!-- Jewelry & Accessories -->
                <div class="glass" style="padding: 30px; border-radius: 25px; text-align: center;">
                    <div style="font-size: 3rem; margin-bottom: 20px;">üíé</div>
                    <h3 style="color: var(--love-purple); margin-bottom: 20px;">Jewelry & Accessories</h3>
                    <div style="display: flex; flex-direction: column; gap: 15px;">
                        <a href="https://www.tanishq.co.in/" target="_blank" style="text-decoration: none;">
                            <button class="feature-btn" style="width: 100%; padding: 15px;">üíç Tanishq - Gold Jewelry</button>
                        </a>
                        <a href="https://www.bluestone.com/" target="_blank" style="text-decoration: none;">
                            <button class="feature-btn" style="width: 100%; padding: 15px;">üíé BlueStone - Diamond Jewelry</button>
                        </a>
                        <a href="https://www.caratlane.com/" target="_blank" style="text-decoration: none;">
                            <button class="feature-btn" style="width: 100%; padding: 15px;">‚ú® CaratLane - Designer Jewelry</button>
                        </a>
                    </div>
                </div>
                
                <!-- Food & Treats -->
                <div class="glass" style="padding: 30px; border-radius: 25px; text-align: center;">
                    <div style="font-size: 3rem; margin-bottom: 20px;">üç∞</div>
                    <h3 style="color: var(--love-peach); margin-bottom: 20px;">Food & Birthday Treats</h3>
                    <div style="display: flex; flex-direction: column; gap: 15px;">
                        <a href="https://www.zomato.com/" target="_blank" style="text-decoration: none;">
                            <button class="feature-btn" style="width: 100%; padding: 15px;">üçï Zomato - Food Delivery</button>
                        </a>
                        <a href="https://www.swiggy.com/" target="_blank" style="text-decoration: none;">
                            <button class="feature-btn" style="width: 100%; padding: 15px;">üçî Swiggy - Quick Delivery</button>
                        </a>
                        <a href="https://www.fnp.com/cakes" target="_blank" style="text-decoration: none;">
                            <button class="feature-btn" style="width: 100%; padding: 15px;">üéÇ Ferns N Petals - Birthday Cakes</button>
                        </a>
                    </div>
                </div>
            </div>
            
            <!-- Quick Shopping Links -->
            <div style="margin-top: 40px; text-align: center;">
                <h3 style="color: var(--love-pink); margin-bottom: 25px;">‚ö° Quick Shopping Links</h3>
                <div style="display: flex; gap: 15px; flex-wrap: wrap; justify-content: center;">
                    <a href="https://www.amazon.in/" target="_blank" style="text-decoration: none;"><button class="feature-btn">üì¶ Amazon</button></a>
                    <a href="https://www.flipkart.com/" target="_blank" style="text-decoration: none;"><button class="feature-btn">üõí Flipkart</button></a>
                    <a href="https://www.myntra.com/" target="_blank" style="text-decoration: none;"><button class="feature-btn">üëó Myntra</button></a>
                    <a href="https://www.ajio.com/" target="_blank" style="text-decoration: none;"><button class="feature-btn">‚ú® Ajio</button></a>
                    <a href="https://www.nykaa.com/" target="_blank" style="text-decoration: none;"><button class="feature-btn">üíÑ Nykaa</button></a>
                    <a href="https://paytm.com/shop" target="_blank" style="text-decoration: none;"><button class="feature-btn">üí≥ Paytm Mall</button></a>
                </div>
            </div>
        </section>
    </div>

    <script>
        // Global variables
        let currentAudio = null;
        let isPlaying = false;
        let birthdayMusicContext = null;

        // Initialize everything
        document.addEventListener('DOMContentLoaded', function() {
            updateCountdown();
            setInterval(updateCountdown, 1000);
            
            // Auto-play birthday song after 2 seconds
            setTimeout(() => {
                playAutoBirthdayMusic();
            }, 2000);
        });

        // Countdown to Nipa's next birthday (September 3, 2025)
        function updateCountdown() {
            const birthday = new Date('2025-09-03T00:00:00').getTime();
            const now = new Date().getTime();
            const distance = birthday - now;

            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

            document.getElementById('days').textContent = days.toString().padStart(3, '0');
            document.getElementById('hours').textContent = hours.toString().padStart(2, '0');
            document.getElementById('minutes').textContent = minutes.toString().padStart(2, '0');
            document.getElementById('seconds').textContent = seconds.toString().padStart(2, '0');

            if (distance < 0) {
                document.querySelector('.countdown-title').textContent = "üéâ Happy Birthday Nipa! üéÇ";
            }
        }

        // ENHANCED AUTO-PLAY BIRTHDAY MUSIC FUNCTION
        function playAutoBirthdayMusic() {
            // Show music notification
            const musicNotification = document.createElement('div');
            musicNotification.className = 'music-notification';
            musicNotification.innerHTML = `
                <h3 style="margin-bottom: 15px; font-size: 2rem;">üéµ Playing Birthday Song! üéµ</h3>
                <p style="font-size: 1.2rem; margin-bottom: 20px;">üéÇ Happy Birthday to You, Nipa! üéÇ</p>
                <div style="font-size: 3rem; margin: 15px 0;">üé∂üéÇüéà</div>
                <button onclick="this.parentElement.remove()" style="padding: 10px 20px; background: white; color: var(--love-pink); border: none; border-radius: 15px; cursor: pointer; font-weight: bold;">üíï Thank You!</button>
            `;
            document.body.appendChild(musicNotification);

            // Create and play the complete Happy Birthday song
            birthdayMusicContext = new (window.AudioContext || window.webkitAudioContext)();
            
            // Complete Happy Birthday melody with proper timing
            const happyBirthdayMelody = [
                // "Happy Birthday to You" (first time)
                { note: 261.63, duration: 0.75 }, // C - Hap-
                { note: 261.63, duration: 0.25 }, // C - py
                { note: 293.66, duration: 1.0 },  // D - Birth-
                { note: 261.63, duration: 1.0 },  // C - day
                { note: 349.23, duration: 1.0 },  // F - to
                { note: 329.63, duration: 2.0 },  // E - You
                
                // "Happy Birthday to You" (second time)
                { note: 261.63, duration: 0.75 }, // C - Hap-
                { note: 261.63, duration: 0.25 }, // C - py
                { note: 293.66, duration: 1.0 },  // D - Birth-
                { note: 261.63, duration: 1.0 },  // C - day
                { note: 392.00, duration: 1.0 },  // G - to
                { note: 349.23, duration: 2.0 },  // F - You
                
                // "Happy Birthday dear Nipa"
                { note: 261.63, duration: 0.75 }, // C - Hap-
                { note: 261.63, duration: 0.25 }, // C - py
                { note: 523.25, duration: 1.0 },  // C (high) - Birth-
                { note: 440.00, duration: 1.0 },  // A - day
                { note: 349.23, duration: 1.0 },  // F - dear
                { note: 329.63, duration: 1.0 },  // E - Ni-
                { note: 293.66, duration: 2.0 },  // D - pa
                
                // "Happy Birthday to You" (final)
                { note: 466.16, duration: 0.75 }, // Bb - Hap-
                { note: 466.16, duration: 0.25 }, // Bb - py
                { note: 440.00, duration: 1.0 },  // A - Birth-
                { note: 349.23, duration: 1.0 },  // F - day
                { note: 392.00, duration: 1.0 },  // G - to
                { note: 349.23, duration: 3.0 }   // F - You
            ];

            let currentTime = birthdayMusicContext.currentTime + 0.1;
            
            // Play each note in the melody
            happyBirthdayMelody.forEach((noteData, index) => {
                const oscillator = birthdayMusicContext.createOscillator();
                const gainNode = birthdayMusicContext.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(birthdayMusicContext.destination);
                
                oscillator.frequency.setValueAtTime(noteData.note, currentTime);
                oscillator.type = 'sine';
                
                // Create a nice envelope for each note
                gainNode.gain.setValueAtTime(0, currentTime);
                gainNode.gain.linearRampToValueAtTime(0.3, currentTime + 0.05);
                gainNode.gain.exponentialRampToValueAtTime(0.1, currentTime + noteData.duration * 0.8);
                gainNode.gain.exponentialRampToValueAtTime(0.01, currentTime + noteData.duration);
                
                oscillator.start(currentTime);
                oscillator.stop(currentTime + noteData.duration);
                
                currentTime += noteData.duration * 0.6; // Adjust timing between notes
            });

            isPlaying = true;
            document.getElementById('playPauseBtn').textContent = '‚è∏Ô∏è';

            // Create visual effects during the song
            createBirthdayFireworks();
            createWishStars();
            
            // Create floating birthday elements during the song
            for (let i = 0; i < 30; i++) {
                setTimeout(() => {
                    const element = document.createElement('div');
                    element.textContent = ['üéÇ', 'üéà', 'üéÅ', 'üéâ', 'üíï', '‚≠ê', 'üéµ', 'üé∂'][Math.floor(Math.random() * 8)];
                    element.style.cssText = `
                        position: fixed;
                        left: ${Math.random() * window.innerWidth}px;
                        top: ${window.innerHeight}px;
                        font-size: 2rem;
                        z-index: 9999;
                        pointer-events: none;
                        animation: floatUp 6s ease-out forwards;
                    `;
                    document.body.appendChild(element);
                    setTimeout(() => element.remove(), 6000);
                }, i * 200);
            }

            // Remove notification after song ends
            setTimeout(() => {
                if (document.body.contains(musicNotification)) {
                    musicNotification.remove();
                }
                isPlaying = false;
                document.getElementById('playPauseBtn').textContent = '‚ñ∂Ô∏è';
                showNotification('üéµ Happy Birthday song completed! Welcome to Nipa\'s Birthday Sanctuary! üéÇ');
            }, 20000);
        }

        // Music Player Controls
        function toggleMusic() {
            if (isPlaying) {
                // Pause music
                if (birthdayMusicContext) {
                    birthdayMusicContext.suspend();
                }
                isPlaying = false;
                document.getElementById('playPauseBtn').textContent = '‚ñ∂Ô∏è';
                showNotification('‚è∏Ô∏è Music paused');
            } else {
                // Resume or start music
                if (birthdayMusicContext && birthdayMusicContext.state === 'suspended') {
                    birthdayMusicContext.resume();
                } else {
                    playAutoBirthdayMusic();
                }
                isPlaying = true;
                document.getElementById('playPauseBtn').textContent = '‚è∏Ô∏è';
                showNotification('‚ñ∂Ô∏è Music playing');
            }
        }

        function replayMusic() {
            // Stop current music
            if (birthdayMusicContext) {
                birthdayMusicContext.close();
            }
            isPlaying = false;
            
            // Start new music
            setTimeout(() => {
                playAutoBirthdayMusic();
            }, 500);
            
            showNotification('üîÑ Replaying birthday song!');
        }

        // ENHANCED GALLERY FUNCTIONS WITH SERVER INTEGRATION
        function openGallery() {
            const modal = document.createElement('div');
            modal.className = 'modal show';
            modal.innerHTML = `
                <div class="modal-content glass" style="max-width: 95%; max-height: 95%; padding: 30px;">
                    <button class="modal-close" onclick="this.parentElement.parentElement.remove()">&times;</button>
                    <div style="text-align: center; margin-bottom: 30px;">
                        <h3 class="feature-title" style="font-size: 2.5rem; margin-bottom: 15px;">üì∏ Nipa's Beautiful Gallery üì∏</h3>
                        <p style="color: var(--love-pink); font-size: 1.2rem;">Capture and store your precious memories forever! ‚ú®</p>
                    </div>
                    
                    <div style="display: flex; gap: 15px; justify-content: center; margin-bottom: 30px; flex-wrap: wrap;">
                        <button class="feature-btn" onclick="uploadMultiplePhotos()" style="padding: 15px 25px; font-size: 16px; background: linear-gradient(135deg, var(--love-pink), var(--love-purple));">
                            üì∏ Upload Multiple Photos
                        </button>
                        <button class="feature-btn" onclick="takePhoto()" style="padding: 15px 25px; font-size: 16px; background: linear-gradient(135deg, var(--love-gold), var(--love-coral));">
                            üì∑ Take Photo
                        </button>
                        <button class="feature-btn" onclick="loadGalleryFromServer()" style="padding: 15px 25px; font-size: 16px; background: linear-gradient(135deg, var(--love-mint), var(--love-lavender));">
                            üîÑ Refresh Gallery
                        </button>
                    </div>
                    
                    <div id="galleryStats" style="text-align: center; margin-bottom: 20px; padding: 15px; background: rgba(255,255,255,0.1); border-radius: 15px;">
                        <span style="color: var(--love-pink); font-weight: bold;">Loading gallery...</span>
                    </div>
                    
                    <div id="photoGallery" style="
                        display: grid; 
                        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); 
                        gap: 20px; 
                        max-height: 500px; 
                        overflow-y: auto; 
                        padding: 20px;
                        background: rgba(255,255,255,0.05);
                        border-radius: 20px;
                        border: 2px solid rgba(255,255,255,0.1);
                    "></div>
                </div>
            `;
            document.body.appendChild(modal);
            
            // Load existing photos from server
            loadGalleryFromServer();
        }

        function uploadMultiplePhotos() {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = 'image/*';
            input.multiple = true;
            input.onchange = (e) => {
                const files = Array.from(e.target.files);
                if (files.length === 0) return;
                
                // Show upload progress
                const progressModal = document.createElement('div');
                progressModal.className = 'upload-progress';
                progressModal.innerHTML = `
                    <h3 style="margin-bottom: 15px;">üì∏ Uploading Photos</h3>
                    <p id="uploadStatus">Uploading ${files.length} photo(s)...</p>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill" style="width: 0%;"></div>
                    </div>
                    <p id="uploadCount">0 / ${files.length} completed</p>
                `;
                document.body.appendChild(progressModal);
                
                let uploadedCount = 0;
                let successCount = 0;
                
                files.forEach((file, index) => {
                    // Upload to server
                    const formData = new FormData();
                    formData.append('photo', file);
                    
                    fetch('/upload-photo', {
                        method: 'POST',
                        body: formData
                    })
                    .then(response => response.json())
                    .then(data => {
                        uploadedCount++;
                        if (data.success) {
                            successCount++;
                            addPhotoToGallery(data.photo);
                        }
                        
                        // Update progress
                        const progress = (uploadedCount / files.length) * 100;
                        document.getElementById('progressFill').style.width = progress + '%';
                        document.getElementById('uploadCount').textContent = `${uploadedCount} / ${files.length} completed`;
                        
                        if (uploadedCount === files.length) {
                            setTimeout(() => {
                                progressModal.remove();
                                showNotification(`‚úÖ ${successCount} photos uploaded successfully!`);
                                updateGalleryStats();
                            }, 1000);
                        }
                    })
                    .catch(error => {
                        uploadedCount++;
                        console.error('Upload error:', error);
                        
                        // Update progress even on error
                        const progress = (uploadedCount / files.length) * 100;
                        document.getElementById('progressFill').style.width = progress + '%';
                        document.getElementById('uploadCount').textContent = `${uploadedCount} / ${files.length} completed`;
                        
                        if (uploadedCount === files.length) {
                            setTimeout(() => {
                                progressModal.remove();
                                showNotification(`‚ö†Ô∏è ${successCount} photos uploaded, ${files.length - successCount} failed`);
                                updateGalleryStats();
                            }, 1000);
                        }
                    });
                });
            };
            input.click();
        }

        function loadGalleryFromServer() {
            fetch('/gallery')
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    const gallery = document.getElementById('photoGallery');
                    if (gallery) {
                        gallery.innerHTML = '';
                        data.photos.forEach(photo => {
                            addPhotoToGallery(photo);
                        });
                        updateGalleryStats(data.count);
                    }
                } else {
                    showNotification('‚ùå Failed to load gallery');
                }
            })
            .catch(error => {
                console.error('Gallery load error:', error);
                showNotification('‚ùå Error loading gallery');
            });
        }

        function addPhotoToGallery(photo) {
            const gallery = document.getElementById('photoGallery');
            if (!gallery) return;
            
            const photoItem = document.createElement('div');
            photoItem.className = 'photo-item';
            photoItem.innerHTML = `
                <img src="${photo.url}" alt="${photo.original_name}" onclick="viewPhoto('${photo.url}', '${photo.original_name}')">
                <div class="photo-info">
                    <div style="font-weight: bold; margin-bottom: 5px;">${photo.original_name}</div>
                    <div class="photo-date">${photo.display_date || photo.upload_date}</div>
                    <div class="photo-actions">
                        <button class="photo-btn" onclick="downloadPhoto('${photo.url}', '${photo.original_name}')">üíæ Download</button>
                        <button class="photo-btn" onclick="deletePhoto('${photo.id}', this.closest('.photo-item'))">üóëÔ∏è Delete</button>
                        <button class="photo-btn" onclick="sharePhoto('${photo.url}')">üì§ Share</button>
                    </div>
                </div>
            `;
            gallery.appendChild(photoItem);
        }

        function updateGalleryStats(count = null) {
            const statsElement = document.getElementById('galleryStats');
            if (statsElement) {
                if (count !== null) {
                    statsElement.innerHTML = `
                        <span style="color: var(--love-pink); font-weight: bold;">
                            üì∏ ${count} photos in gallery ‚ú®
                        </span>
                    `;
                } else {
                    // Count current photos in display
                    const photoCount = document.querySelectorAll('.photo-item').length;
                    statsElement.innerHTML = `
                        <span style="color: var(--love-pink); font-weight: bold;">
                            üì∏ ${photoCount} photos in gallery ‚ú®
                        </span>
                    `;
                }
            }
        }

        function deletePhoto(photoId, photoElement) {
            if (confirm('Are you sure you want to delete this photo?')) {
                fetch(`/delete-photo/${photoId}`, {
                    method: 'DELETE'
                })
                .then(response => response.json())
                .then(data => {
                    if (data.success) {
                        photoElement.remove();
                        updateGalleryStats();
                        showNotification('üóëÔ∏è Photo deleted successfully!');
                    } else {
                        showNotification('‚ùå Failed to delete photo');
                    }
                })
                .catch(error => {
                    console.error('Delete error:', error);
                    showNotification('‚ùå Error deleting photo');
                });
            }
        }

        function sharePhoto(photoUrl) {
            if (navigator.share) {
                navigator.share({
                    title: 'Nipa\'s Birthday Photo',
                    text: 'Check out this beautiful photo from Nipa\'s birthday celebration!',
                    url: photoUrl
                });
            } else {
                // Fallback: copy to clipboard
                navigator.clipboard.writeText(window.location.origin + photoUrl).then(() => {
                    showNotification('üì§ Photo link copied to clipboard!');
                });
            }
        }

        function takePhoto() {
            navigator.mediaDevices.getUserMedia({ video: true })
                .then(stream => {
                    const modal = document.createElement('div');
                    modal.className = 'modal show';
                    modal.innerHTML = `
                        <div class="modal-content glass">
                            <button class="modal-close" onclick="this.parentElement.parentElement.remove(); stopCamera()">&times;</button>
                            <h3>üì∑ Take Photo</h3>
                            <video id="cameraVideo" width="400" height="300" autoplay style="border-radius: 15px;"></video>
                            <br><br>
                            <button class="feature-btn" onclick="captureFromCamera()">üì∏ Capture</button>
                        </div>
                    `;
                    document.body.appendChild(modal);
                    document.getElementById('cameraVideo').srcObject = stream;
                    window.currentStream = stream;
                })
                .catch(() => {
                    showNotification('üì∑ Camera access denied or not available');
                });
        }

        function captureFromCamera() {
            const video = document.getElementById('cameraVideo');
            const canvas = document.createElement('canvas');
            canvas.width = video.videoWidth;
            canvas.height = video.videoHeight;
            const ctx = canvas.getContext('2d');
            ctx.drawImage(video, 0, 0);
            
            // Convert to blob and upload
            canvas.toBlob(blob => {
                const formData = new FormData();
                formData.append('photo', blob, `camera_photo_${Date.now()}.png`);
                
                fetch('/upload-photo', {
                    method: 'POST',
                    body: formData
                })
                .then(response => response.json())
                .then(data => {
                    if (data.success) {
                        addPhotoToGallery(data.photo);
                        updateGalleryStats();
                        showNotification('üì∏ Photo captured and saved!');
                    } else {
                        showNotification('‚ùå Failed to save photo');
                    }
                });
            }, 'image/png');
            
            stopCamera();
            document.querySelector('.modal.show').remove();
        }

        function stopCamera() {
            if (window.currentStream) {
                window.currentStream.getTracks().forEach(track => track.stop());
            }
        }

        function viewPhoto(src, name) {
            const modal = document.createElement('div');
            modal.className = 'modal show';
            modal.innerHTML = `
                <div class="modal-content glass" style="max-width: 90%; max-height: 90%;">
                    <button class="modal-close" onclick="this.parentElement.parentElement.remove()">&times;</button>
                    <h3 style="margin-bottom: 20px;">${name}</h3>
                    <img src="${src}" style="max-width: 100%; max-height: 70vh; border-radius: 15px;">
                    <br><br>
                    <button class="feature-btn" onclick="downloadPhoto('${src}', '${name}')">üíæ Download</button>
                </div>
            `;
            document.body.appendChild(modal);
        }

        function downloadPhoto(src, name) {
            const link = document.createElement('a');
            link.href = src;
            link.download = name || `photo_${Date.now()}.png`;
            link.click();
            showNotification('üíæ Photo downloaded!');
        }

        // Real Virtual Cake Function
        function openVirtualCake() {
            const modal = document.createElement('div');
            modal.className = 'modal show';
            modal.innerHTML = `
                <div class="modal-content glass">
                    <button class="modal-close" onclick="this.parentElement.parentElement.remove()">&times;</button>
                    <h3 class="feature-title">üéÇ Virtual Birthday Cake</h3>
                    <div style="text-align: center; padding: 40px;">
                        <div style="font-size: 8rem; margin: 20px 0;" id="virtualCake">üéÇ</div>
                        <div id="cakeCandles" style="font-size: 3rem; margin: 20px 0; cursor: pointer;">üïØÔ∏èüïØÔ∏èüïØÔ∏èüïØÔ∏èüïØÔ∏è</div>
                        <p style="color: var(--love-pink); margin: 20px 0;">Click candles to blow them out!</p>
                        <button class="feature-btn" onclick="makeWishOnCake()" style="margin-top: 20px;">‚≠ê Make a Wish</button>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
            
            let candlesLit = 5;
            document.getElementById('cakeCandles').onclick = () => {
                if (candlesLit > 0) {
                    candlesLit--;
                    const candleText = 'üïØÔ∏è'.repeat(candlesLit) + 'üí®'.repeat(5 - candlesLit);
                    document.getElementById('cakeCandles').textContent = candleText;
                    
                    if (candlesLit === 0) {
                        setTimeout(() => {
                            createWishStars();
                            showNotification('üéÇ All candles blown! Your wish will come true!');
                        }, 500);
                    }
                }
            };
        }

        function makeWishOnCake() {
            const wishes = [
                '‚≠ê May all your dreams come true this year!',
                'üíï Wishing you endless love and happiness!',
                'üåü May this year bring amazing adventures!',
                'üíñ You deserve all the joy in the world!',
                '‚ú® May your birthday wishes come true!'
            ];
            const wish = wishes[Math.floor(Math.random() * wishes.length)];
            createWishStars();
            showNotification(wish);
        }

        // Real Gift Boxes Function
        function openGiftBoxes() {
            const modal = document.createElement('div');
            modal.className = 'modal show';
            modal.innerHTML = `
                <div class="modal-content glass">
                    <button class="modal-close" onclick="this.parentElement.parentElement.remove()">&times;</button>
                    <h3 class="feature-title">üéÅ Birthday Gift Boxes</h3>
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; padding: 20px;">
                        ${Array.from({length: 6}, (_, i) => `
                            <div class="gift-box" onclick="openGift(${i})" style="text-align: center; cursor: pointer; padding: 20px; border-radius: 15px; background: linear-gradient(135deg, var(--love-pink), var(--love-purple)); transition: transform 0.3s;">
                                <div style="font-size: 4rem;" id="gift-${i}">üéÅ</div>
                                <p style="color: white; margin-top: 10px;">Gift ${i + 1}</p>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
        }

        function openGift(index) {
            const gifts = ['üíé', 'üåπ', 'üíï', '‚≠ê', 'üéµ', 'üì∏', 'üíå', 'üç∞', 'üëë', '‚ú®'];
            const messages = [
                'A precious gem for a precious person!',
                'Beautiful roses for a beautiful soul!',
                'All my love wrapped up for you!',
                'You are my shining star!',
                'The music of my heart!',
                'Capturing beautiful memories!',
                'A love letter from the heart!',
                'Sweet treats for sweetness!',
                'You are royalty to me!',
                'Magical sparkles for magic you!'
            ];
            
            const gift = gifts[Math.floor(Math.random() * gifts.length)];
            const message = messages[Math.floor(Math.random() * messages.length)];
            
            const giftElement = document.getElementById(`gift-${index}`);
            giftElement.textContent = gift;
            giftElement.style.transform = 'scale(1.5)';
            giftElement.style.animation = 'pulse 1s ease-in-out infinite';
            
            setTimeout(() => {
                showNotification(`üéÅ ${message}`);
            }, 500);
        }

        // Real Art Studio Function
        function openArtStudio() {
            const modal = document.createElement('div');
            modal.className = 'modal show';
            modal.innerHTML = `
                <div class="modal-content glass" style="max-width: 90%;">
                    <button class="modal-close" onclick="this.parentElement.parentElement.remove()">&times;</button>
                    <h3 class="feature-title">üé® Digital Art Studio</h3>
                    <div style="display: flex; flex-direction: column; align-items: center; gap: 20px;">
                        <canvas id="artCanvas" width="500" height="400" style="border: 3px solid var(--love-pink); border-radius: 15px; background: white; cursor: crosshair;"></canvas>
                        
                        <div style="display: flex; gap: 15px; flex-wrap: wrap; justify-content: center;">
                            <div>
                                <label style="color: var(--love-pink);">Brush Size:</label>
                                <input type="range" id="brushSize" min="1" max="50" value="5">
                            </div>
                            <div>
                                <label style="color: var(--love-pink);">Color:</label>
                                <input type="color" id="brushColor" value="#ff6b9d">
                            </div>
                        </div>
                        
                        <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                            <button class="feature-btn" onclick="clearCanvas()">üóëÔ∏è Clear</button>
                            <button class="feature-btn" onclick="addEmoji('üíï')">üíï</button>
                            <button class="feature-btn" onclick="addEmoji('üéÇ')">üéÇ</button>
                            <button class="feature-btn" onclick="addEmoji('üéà')">üéà</button>
                            <button class="feature-btn" onclick="addEmoji('‚≠ê')">‚≠ê</button>
                            <button class="feature-btn" onclick="downloadArt()">üíæ Download</button>
                            <button class="feature-btn" onclick="saveArtwork()">üíæ Save to Server</button>
                        </div>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
            
            initializeArtCanvas();
        }

        function initializeArtCanvas() {
            const canvas = document.getElementById('artCanvas');
            const ctx = canvas.getContext('2d');
            let isDrawing = false;
            
            canvas.onmousedown = (e) => {
                isDrawing = true;
                const rect = canvas.getBoundingClientRect();
                ctx.beginPath();
                ctx.moveTo(e.clientX - rect.left, e.clientY - rect.top);
            };
            
            canvas.onmousemove = (e) => {
                if (!isDrawing) return;
                const rect = canvas.getBoundingClientRect();
                const brushSize = document.getElementById('brushSize').value;
                const brushColor = document.getElementById('brushColor').value;
                
                ctx.lineWidth = brushSize;
                ctx.strokeStyle = brushColor;
                ctx.lineCap = 'round';
                ctx.lineTo(e.clientX - rect.left, e.clientY - rect.top);
                ctx.stroke();
            };
            
            canvas.onmouseup = () => isDrawing = false;
        }

        function clearCanvas() {
            const canvas = document.getElementById('artCanvas');
            const ctx = canvas.getContext('2d');
            ctx.clearRect(0, 0, canvas.width, canvas.height);
        }

        function addEmoji(emoji) {
            const canvas = document.getElementById('artCanvas');
            const ctx = canvas.getContext('2d');
            ctx.font = '30px Arial';
            ctx.fillText(emoji, Math.random() * 450, Math.random() * 350 + 30);
        }

        function downloadArt() {
            const canvas = document.getElementById('artCanvas');
            const link = document.createElement('a');
            link.download = `birthday_art_${Date.now()}.png`;
            link.href = canvas.toDataURL();
            link.click();
            showNotification('üé® Artwork downloaded!');
        }

        function saveArtwork() {
            const canvas = document.getElementById('artCanvas');
            const artworkData = canvas.toDataURL();
            const title = prompt('Enter artwork title:', `Birthday Art ${new Date().toLocaleDateString()}`);
            
            if (title) {
                fetch('/save-artwork', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        artwork: artworkData,
                        title: title
                    })
                })
                .then(response => response.json())
                .then(data => {
                    if (data.success) {
                        showNotification('üé® Artwork saved to server!');
                    } else {
                        showNotification('‚ùå Failed to save artwork');
                    }
                })
                .catch(error => {
                    console.error('Save error:', error);
                    showNotification('‚ùå Error saving artwork');
                });
            }
        }

        // Real Games Function
        function openGames() {
            const modal = document.createElement('div');
            modal.className = 'modal show';
            modal.innerHTML = `
                <div class="modal-content glass" style="max-width: 90%;">
                    <button class="modal-close" onclick="this.parentElement.parentElement.remove()">&times;</button>
                    <h3 class="feature-title">üéÆ Birthday Games</h3>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
                        <div style="text-align: center; padding: 20px; background: rgba(255,255,255,0.1); border-radius: 15px;">
                            <h4>üéà Balloon Pop</h4>
                            <div id="balloonGame" style="height: 200px; position: relative; overflow: hidden; border-radius: 15px; background: linear-gradient(135deg, #ff6b9d, #c44569); margin: 15px 0;"></div>
                            <button class="feature-btn" onclick="startBalloonGame()">Start Game</button>
                        </div>
                        <div style="text-align: center; padding: 20px; background: rgba(255,255,255,0.1); border-radius: 15px;">
                            <h4>üíï Memory Match</h4>
                            <div id="memoryGame" style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; margin: 15px 0;"></div>
                            <button class="feature-btn" onclick="startMemoryGame()">Start Game</button>
                        </div>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
        }

        function startBalloonGame() {
            const game = document.getElementById('balloonGame');
            game.innerHTML = '<div style="position: absolute; top: 10px; left: 10px; color: white; font-weight: bold;">Score: <span id="balloonScore">0</span></div>';
            let score = 0;
            
            function createBalloon() {
                const balloon = document.createElement('div');
                balloon.textContent = 'üéà';
                balloon.style.cssText = `
                    position: absolute;
                    font-size: 2rem;
                    cursor: pointer;
                    animation: floatUp 3s linear forwards;
                    left: ${Math.random() * 85}%;
                    bottom: -50px;
                `;
                
                balloon.onclick = () => {
                    balloon.textContent = 'üí•';
                    score += 10;
                    document.getElementById('balloonScore').textContent = score;
                    setTimeout(() => balloon.remove(), 200);
                };
                
                game.appendChild(balloon);
                setTimeout(() => balloon.remove(), 3000);
            }
            
            const gameInterval = setInterval(createBalloon, 800);
            setTimeout(() => {
                clearInterval(gameInterval);
                showNotification(`üéà Game Over! Final Score: ${score}`);
            }, 15000);
        }

        function startMemoryGame() {
            const game = document.getElementById('memoryGame');
            const emojis = ['üíï', 'üéÇ', 'üéà', '‚≠ê', 'üéÅ', 'üåü', 'üíñ', 'üéâ'];
            const cards = [...emojis, ...emojis].sort(() => Math.random() - 0.5);
            let flippedCards = [];
            let matches = 0;
            
            game.innerHTML = '';
            cards.forEach((emoji, index) => {
                const card = document.createElement('div');
                card.style.cssText = `
                    aspect-ratio: 1;
                    background: var(--love-pink);
                    border-radius: 10px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    font-size: 1.5rem;
                    cursor: pointer;
                    color: transparent;
                `;
                card.dataset.emoji = emoji;
                
                card.onclick = () => {
                    if (flippedCards.length < 2 && !card.classList.contains('flipped')) {
                        card.style.color = 'white';
                        card.textContent = emoji;
                        card.classList.add('flipped');
                        flippedCards.push(card);
                        
                        if (flippedCards.length === 2) {
                            setTimeout(() => {
                                if (flippedCards[0].dataset.emoji === flippedCards[1].dataset.emoji) {
                                    matches++;
                                    if (matches === emojis.length) {
                                        showNotification('üéâ You won! All matches found!');
                                    }
                                } else {
                                    flippedCards.forEach(c => {
                                        c.style.color = 'transparent';
                                        c.textContent = '';
                                        c.classList.remove('flipped');
                                    });
                                }
                                flippedCards = [];
                            }, 1000);
                        }
                    }
                };
                
                game.appendChild(card);
            });
        }

        // Real Music Function
        function openMusic() {
            const modal = document.createElement('div');
            modal.className = 'modal show';
            modal.innerHTML = `
                <div class="modal-content glass">
                    <button class="modal-close" onclick="this.parentElement.parentElement.remove()">&times;</button>
                    <h3 class="feature-title">üéµ Birthday Music Player</h3>
                    <div style="text-align: center; padding: 20px;">
                        <div style="font-size: 4rem; margin: 20px 0;">üéµ</div>
                        <h4 id="currentSong">Happy Birthday Song</h4>
                        <div style="margin: 20px 0;">
                            <button class="feature-btn" onclick="playBirthdayMusic()" id="playBtn">‚ñ∂Ô∏è Play Birthday Song</button>
                            <button class="feature-btn" onclick="stopBirthdayMusic()">‚èπÔ∏è Stop</button>
                        </div>
                        <input type="file" id="musicUpload" accept="audio/*" style="display: none;" onchange="uploadMusic(event)">
                        <button class="feature-btn" onclick="document.getElementById('musicUpload').click()">üìÅ Upload Music</button>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
        }

        function playBirthdayMusic() {
            // Play the same complete birthday song as auto-play
            playAutoBirthdayMusic();
        }

        function stopBirthdayMusic() {
            if (birthdayMusicContext) {
                birthdayMusicContext.close();
                birthdayMusicContext = null;
            }
            isPlaying = false;
            document.getElementById('playPauseBtn').textContent = '‚ñ∂Ô∏è';
            showNotification('‚èπÔ∏è Music stopped');
        }

        function uploadMusic(event) {
            const file = event.target.files[0];
            if (file) {
                const formData = new FormData();
                formData.append('music', file);
                
                fetch('/upload-music', {
                    method: 'POST',
                    body: formData
                })
                .then(response => response.json())
                .then(data => {
                    if (data.success) {
                        document.getElementById('currentSong').textContent = data.music.original_name;
                        showNotification('üéµ Music uploaded successfully!');
                    } else {
                        showNotification('‚ùå Failed to upload music');
                    }
                })
                .catch(error => {
                    console.error('Upload error:', error);
                    showNotification('‚ùå Error uploading music');
                });
            }
        }

        // Real Messages Function
        function openMessages() {
            const modal = document.createElement('div');
            modal.className = 'modal show';
            modal.innerHTML = `
                <div class="modal-content glass">
                    <button class="modal-close" onclick="this.parentElement.parentElement.remove()">&times;</button>
                    <h3 class="feature-title">üíå Birthday Messages</h3>
                    <div style="max-height: 300px; overflow-y: auto; margin: 20px 0;" id="messagesList">
                        <div style="padding: 15px; margin: 10px 0; background: rgba(255,255,255,0.1); border-radius: 15px;">
                            <p>"Happy Birthday beautiful Nipa! You are absolutely amazing and deserve all the happiness in the world! üíï"</p>
                            <small style="color: var(--love-pink);">- Birthday Wishes</small>
                        </div>
                    </div>
                    <div>
                        <input type="text" id="authorName" placeholder="Your name..." style="width: 100%; padding: 10px; border-radius: 10px; border: none; background: rgba(255,255,255,0.1); color: white; margin-bottom: 10px;">
                        <textarea id="newMessage" placeholder="Write a birthday message..." style="width: 100%; height: 80px; padding: 10px; border-radius: 10px; border: none; background: rgba(255,255,255,0.1); color: white; margin-bottom: 10px;"></textarea>
                        <button class="feature-btn" onclick="addMessage()">üíå Send Message</button>
                        <button class="feature-btn" onclick="loadMessages()">üîÑ Refresh</button>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
            loadMessages();
        }

        function addMessage() {
            const messageText = document.getElementById('newMessage').value.trim();
            const author = document.getElementById('authorName').value.trim() || 'Anonymous';
            
            if (messageText) {
                fetch('/save-message', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        message: messageText,
                        author: author
                    })
                })
                .then(response => response.json())
                .then(data => {
                    if (data.success) {
                        document.getElementById('newMessage').value = '';
                        document.getElementById('authorName').value = '';
                        loadMessages();
                        showNotification('üíå Message sent successfully!');
                    } else {
                        showNotification('‚ùå Failed to send message');
                    }
                })
                .catch(error => {
                    console.error('Message error:', error);
                    showNotification('‚ùå Error sending message');
                });
            }
        }

        function loadMessages() {
            fetch('/messages')
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    const messagesList = document.getElementById('messagesList');
                    if (messagesList) {
                        messagesList.innerHTML = '';
                        data.messages.forEach(msg => {
                            const messageDiv = document.createElement('div');
                            messageDiv.style.cssText = 'padding: 15px; margin: 10px 0; background: rgba(255,255,255,0.1); border-radius: 15px;';
                            messageDiv.innerHTML = `
                                <p>"${msg.message}"</p>
                                <small style="color: var(--love-pink);">- ${msg.author} (${msg.date_display})</small>
                                <div style="margin-top: 10px;">
                                    <button class="photo-btn" onclick="likeMessage('${msg.id}')">‚ù§Ô∏è ${msg.likes || 0}</button>
                                </div>
                            `;
                            messagesList.appendChild(messageDiv);
                        });
                    }
                }
            })
            .catch(error => {
                console.error('Load messages error:', error);
            });
        }

        function likeMessage(messageId) {
            fetch(`/like-message/${messageId}`, {
                method: 'POST'
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    loadMessages(); // Refresh to show updated likes
                    showNotification('‚ù§Ô∏è Message liked!');
                }
            })
            .catch(error => {
                console.error('Like error:', error);
            });
        }

        // Real Birthday Celebration Functions
        function celebrateBirthday() {
            createBirthdayFireworks();
            createLoveExplosion();
            
            const messages = [
                'üéÇ Happy Birthday Beautiful Nipa! You are absolutely amazing! üéÇ',
                'üåü Today we celebrate YOU and all the joy you bring! üåü',
                'üíï Another year of your wonderful existence! So grateful for you! üíï',
                'üéà May this birthday be the start of your best year yet! üéà',
                '‚ú® Celebrating the incredible person you are today and always! ‚ú®'
            ];
            
            const message = messages[Math.floor(Math.random() * messages.length)];
            showNotification(message);
            
            // Create floating birthday elements
            for (let i = 0; i < 20; i++) {
                setTimeout(() => {
                    const element = document.createElement('div');
                    element.textContent = ['üéÇ', 'üéà', 'üéÅ', 'üéâ', 'üíï', '‚≠ê'][Math.floor(Math.random() * 6)];
                    element.style.cssText = `
                        position: fixed;
                        left: ${Math.random() * window.innerWidth}px;
                        top: ${window.innerHeight}px;
                        font-size: 2rem;
                        z-index: 9999;
                        pointer-events: none;
                        animation: floatUp 4s ease-out forwards;
                    `;
                    document.body.appendChild(element);
                    setTimeout(() => element.remove(), 4000);
                }, i * 100);
            }
        }

        function sendBirthdayWish() {
            const wishes = [
                '‚≠ê Wishing you endless happiness and joy on your special day!',
                'üíï May all your dreams and wishes come true this year!',
                'üåü You deserve all the love and celebration in the world!',
                'üéÇ Here\'s to another year of your amazing journey!',
                '‚ú® May this birthday bring you magical moments and beautiful memories!'
            ];
            
            const wish = wishes[Math.floor(Math.random() * wishes.length)];
            createWishStars();
            
            const wishDisplay = document.createElement('div');
            wishDisplay.style.cssText = `
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background: linear-gradient(135deg, var(--love-pink), var(--love-purple));
                color: white;
                padding: 30px;
                border-radius: 20px;
                text-align: center;
                z-index: 10000;
                max-width: 400px;
                font-size: 18px;
                box-shadow: 0 15px 35px rgba(0,0,0,0.3);
            `;
            wishDisplay.innerHTML = `
                <h3 style="margin-bottom: 15px;">üåü Birthday Wish Sent! üåü</h3>
                <p>${wish}</p>
                <button onclick="this.parentElement.remove()" style="margin-top: 20px; padding: 10px 20px; background: white; color: var(--love-pink); border: none; border-radius: 15px; cursor: pointer;">üíï Thank You!</button>
            `;
            document.body.appendChild(wishDisplay);
            
            showNotification('‚≠ê Birthday wish sent to the universe!');
        }

        // Helper Functions
        function createWishStars() {
            for (let i = 0; i < 15; i++) {
                const star = document.createElement('div');
                star.textContent = '‚≠ê';
                star.style.cssText = `
                    position: fixed;
                    left: ${Math.random() * window.innerWidth}px;
                    top: ${Math.random() * window.innerHeight}px;
                    font-size: 2rem;
                    z-index: 9999;
                    pointer-events: none;
                    animation: sparkle 2s ease-out forwards;
                `;
                document.body.appendChild(star);
                setTimeout(() => star.remove(), 2000);
            }
        }

        function createBirthdayFireworks() {
            for (let i = 0; i < 30; i++) {
                const firework = document.createElement('div');
                firework.textContent = 'üéÜ';
                firework.style.cssText = `
                    position: fixed;
                    left: ${Math.random() * window.innerWidth}px;
                    top: ${Math.random() * window.innerHeight}px;
                    font-size: 3rem;
                    z-index: 9999;
                    pointer-events: none;
                    animation: sparkle 3s ease-out forwards;
                `;
                document.body.appendChild(firework);
                setTimeout(() => firework.remove(), 3000);
            }
        }

        function createLoveExplosion() {
            const hearts = ['üíï', 'üíñ', 'üíó', 'üíù', 'üíò', 'üíû', 'üíì', 'üíü'];
            for (let i = 0; i < 25; i++) {
                const heart = document.createElement('div');
                heart.textContent = hearts[Math.floor(Math.random() * hearts.length)];
                heart.style.cssText = `
                    position: fixed;
                    left: 50%;
                    top: 50%;
                    font-size: 2rem;
                    z-index: 9999;
                    pointer-events: none;
                    animation: sparkle 2s ease-out forwards;
                `;
                document.body.appendChild(heart);
                setTimeout(() => heart.remove(), 2000);
            }
        }

        function showNotification(message) {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: linear-gradient(135deg, var(--love-pink) 0%, var(--love-purple) 100%);
                color: white;
                padding: 15px 25px;
                border-radius: 15px;
                z-index: 10000;
                font-weight: 600;
                box-shadow: 0 10px 25px rgba(255, 107, 157, 0.3);
                max-width: 300px;
            `;
            notification.textContent = message;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.opacity = '0';
                setTimeout(() => notification.remove(), 300);
            }, 3000);
        }

        // Placeholder functions for dropdown items
        function openSelfieCamera() { showNotification('üì∑ Selfie camera coming soon!'); }
        function openReelMaker() { showNotification('üé¨ Reel maker coming soon!'); }
        function openPhotoEditor() { showNotification('‚úèÔ∏è Photo editor coming soon!'); }
        function openJournal() { showNotification('üìù Memory journal coming soon!'); }
        function calculateLove() { 
            const percentage = Math.floor(Math.random() * 20) + 80;
            showNotification(`üíï Love Calculator: ${percentage}% Perfect Match!`);
        }
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'976d8a8a810780bb',t:'MTc1NjQ4NjE2MS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
